  [1m[36m (385.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (93.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (38.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20160625112803)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (129.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (53.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (19.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160625112803"]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mUser Load (23.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"


Started OPTIONS "/api/register" for 127.0.0.1 at 2016-06-25 15:29:43 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (No route matches [OPTIONS] "/api/register"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (26.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (44.2ms)


Started OPTIONS "/register" for 127.0.0.1 at 2016-06-25 15:29:55 +0300

ActionController::RoutingError (No route matches [OPTIONS] "/register"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (18.9ms)


Started OPTIONS "/users" for 127.0.0.1 at 2016-06-25 15:38:39 +0300

ActionController::RoutingError (No route matches [OPTIONS] "/users"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (26.4ms)


Started OPTIONS "/users" for 127.0.0.1 at 2016-06-25 15:39:50 +0300

ActionController::RoutingError (No route matches [OPTIONS] "/users"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (15.9ms)


Started OPTIONS "/users" for 127.0.0.1 at 2016-06-25 15:46:44 +0300

ActionController::RoutingError (No route matches [OPTIONS] "/users"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (16.7ms)


Started OPTIONS "/users" for 127.0.0.1 at 2016-06-25 15:46:54 +0300

ActionController::RoutingError (No route matches [OPTIONS] "/users"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (16.2ms)


Started POST "/users" for 127.0.0.1 at 2016-06-25 22:24:38 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (undefined local variable or method `mimes_for_respond_to' for DeviseController:Class):
  devise (3.3.0) app/controllers/devise_controller.rb:13:in `<class:DeviseController>'
  devise (3.3.0) app/controllers/devise_controller.rb:2:in `<top (required)>'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.12) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  devise (3.3.0) app/controllers/devise/registrations_controller.rb:1:in `<top (required)>'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.12) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  activesupport (4.1.12) lib/active_support/dependencies.rb:552:in `get'
  activesupport (4.1.12) lib/active_support/dependencies.rb:583:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (29.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (61.7ms)


Started POST "/users" for 127.0.0.1 at 2016-06-25 22:47:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (undefined local variable or method `mimes_for_respond_to' for DeviseController:Class):
  devise (3.3.0) app/controllers/devise_controller.rb:13:in `<class:DeviseController>'
  devise (3.3.0) app/controllers/devise_controller.rb:2:in `<top (required)>'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.12) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  devise (3.3.0) app/controllers/devise/registrations_controller.rb:1:in `<top (required)>'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.12) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  activesupport (4.1.12) lib/active_support/dependencies.rb:552:in `get'
  activesupport (4.1.12) lib/active_support/dependencies.rb:583:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (35.9ms)


Started POST "/users" for 127.0.0.1 at 2016-06-25 22:47:36 +0300

ActionController::RoutingError (undefined local variable or method `mimes_for_respond_to' for DeviseController:Class):
  devise (3.3.0) app/controllers/devise_controller.rb:13:in `<class:DeviseController>'
  devise (3.3.0) app/controllers/devise_controller.rb:2:in `<top (required)>'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.12) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  devise (3.3.0) app/controllers/devise/registrations_controller.rb:1:in `<top (required)>'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.12) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.12) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.12) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  activesupport (4.1.12) lib/active_support/dependencies.rb:552:in `get'
  activesupport (4.1.12) lib/active_support/dependencies.rb:583:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (31.0ms)


Started POST "/users" for 127.0.0.1 at 2016-06-25 22:48:48 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"email"=>"", "firstName"=>"", "lastName"=>"", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/registrations/new.html.erb (16.7ms)
Completed 500 Internal Server Error in 468ms (ActiveRecord: 163.0ms)

ActionView::Template::Error (undefined local variable or method `resource' for #<#<Class:0x00000005d41e30>:0x00000005cd41a0>):
    1: <h2>Sign up</h2>
    2: 
    3: <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    4:   <%= devise_error_messages! %>
    5: 
    6:   <div><%= f.label :email %><br />
  devise (3.3.0) app/views/devise/registrations/new.html.erb:3:in `__home_nogi__rvm_gems_ruby_______gems_devise_______app_views_devise_registrations_new_html_erb__296534277077897909_48657500'
  actionview (4.1.12) lib/action_view/template.rb:145:in `block in render'
  activesupport (4.1.12) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.12) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.12) lib/action_view/template.rb:143:in `render'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/responder.rb:140:in `render'
  actionpack (4.1.12) lib/action_controller/metal/responder.rb:196:in `navigation_behavior'
  actionpack (4.1.12) lib/action_controller/metal/responder.rb:167:in `rescue in to_html'
  actionpack (4.1.12) lib/action_controller/metal/responder.rb:165:in `to_html'
  actionpack (4.1.12) lib/action_controller/metal/responder.rb:158:in `respond'
  actionpack (4.1.12) lib/action_controller/metal/responder.rb:151:in `call'
  actionpack (4.1.12) lib/action_controller/metal/mime_responds.rb:400:in `respond_with'
  devise (3.3.0) app/controllers/devise/registrations_controller.rb:37:in `create'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.2.9) lib/rack/cors.rb:54:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (12.8ms)


Started POST "/users" for 127.0.0.1 at 2016-06-25 22:51:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"", "firstName"=>"Or", "lastName"=>"", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "include"=>:create}


Started POST "/users" for 127.0.0.1 at 2016-06-25 23:50:10 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RegistrationsController#create as HTML
  Parameters: {"email"=>"", "firstName"=>"Or", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]"}


Started POST "/users" for 127.0.0.1 at 2016-06-26 00:03:17 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RegistrationsController#create as HTML
  Parameters: {"email"=>"or.perlman@outlook.com", "firstName"=>"Or", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)

NameError (undefined local variable or method `user_params' for #<RegistrationsController:0x0000000519db88>):
  app/controllers/registrations_controller.rb:3:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (48.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (39.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddFirstAndLastNameToUsers (20160626074841)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (121.0ms)[0m  [1mALTER TABLE "users" ADD COLUMN "firstName" character varying(255)[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "users" ADD COLUMN "lastName" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160626074841"]]
  [1m[35m (38.3ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (70.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (409.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "sendDate" timestamp, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to RemoveSendDateFromMessages (20160629145140)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (52.3ms)[0m  [1mALTER TABLE "messages" DROP "sendDate"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629145140"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.2ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629145140')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.6ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (9.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629145140')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUserMessageMappings (20160629153656)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUserMessageMappings (20160629153656)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUserMessageMappings (20160629153656)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629153656"]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageTypes (20160629161648)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629161648"]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.2ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (6.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (2.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT "message_types".* FROM "message_types"[0m
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (11.5ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (5.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "message_types"
  [1m[36m (4.4ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.9ms)[0m  DROP TABLE "messages"
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.7ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.6ms)[0m  DROP TABLE "users"
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.7ms)[0m  DROP TABLE "message_types"
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "messages"
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  DROP TABLE "users"
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.1ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.6ms)[0m  DROP TABLE "message_types"
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  DROP TABLE "messages"
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  DROP TABLE "users"
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.5ms)[0m  DROP TABLE "message_types"
  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.9ms)[0m  DROP TABLE "messages"
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.1ms)[0m  DROP TABLE "users"
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (38.8ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.6ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.1ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (3.0ms)[0m  DROP TABLE "message_types"
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  DROP TABLE "messages"
  [1m[36m (11.6ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "users"
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.9ms)[0m  DROP TABLE "message_types"
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  DROP TABLE "messages"
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "users"
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (3.2ms)[0m  DROP TABLE "message_types"
  [1m[36m (4.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  DROP TABLE "messages"
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "users"
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "message_types"
  [1m[36m (3.8ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  DROP TABLE "messages"
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.1ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.6ms)[0m  DROP TABLE "users"
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (9.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.7ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (6.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.7ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (5.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "message_types" already exists
: CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (23.5ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (17.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.3ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "message_types" already exists
: CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "message_types" already exists
: CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (29.4ms)[0m  DROP TABLE "messages"
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  DROP TABLE "users"
  [1m[36m (10.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (121.9ms)[0m  DROP TABLE "messages"
  [1m[36m (9.8ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  DROP TABLE "user_messages_mapping"
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.8ms)[0m  DROP TABLE "users"
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (3.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.5ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629161648')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629153656')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.3ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "userId" bigint, "messageId" bigint, "messageTypeId" integer, "isRead" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "firstName" character varying(255), "lastName" character varying(255)) [0m
  [1m[35m (4.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629161648')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (3.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:01:32.533185"], ["type_name", "inbox"], ["updated_at", "2016-06-29 17:01:32.533185"]]
  [1m[35m (15.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-06-29 17:01:32.552291"], ["type_name", "sent"], ["updated_at", "2016-06-29 17:01:32.552291"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:01:32.554984"], ["type_name", "drafts"], ["updated_at", "2016-06-29 17:01:32.554984"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-06-29 17:01:32.557453"], ["type_name", "trash"], ["updated_at", "2016-06-29 17:01:32.557453"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:01:32.559273"], ["type_name", "spam"], ["updated_at", "2016-06-29 17:01:32.559273"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT "message_types".* FROM "message_types"[0m
  [1m[36m (168.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (117.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (324.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (537.7ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (1.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "first_name" character varying(255), "last_name" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (4.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages_mapping" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp, "first_name" character varying(255), "last_name" character varying(255)) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629153656')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:53:48.236574"], ["type_name", "inbox"], ["updated_at", "2016-06-29 17:53:48.236574"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-06-29 17:53:48.240442"], ["type_name", "sent"], ["updated_at", "2016-06-29 17:53:48.240442"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:53:48.242800"], ["type_name", "drafts"], ["updated_at", "2016-06-29 17:53:48.242800"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-06-29 17:53:48.244972"], ["type_name", "trash"], ["updated_at", "2016-06-29 17:53:48.244972"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:53:48.247074"], ["type_name", "spam"], ["updated_at", "2016-06-29 17:53:48.247074"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
PG::UndefinedTable: ERROR:  relation "user_message_mappings" does not exist
LINE 5:                WHERE a.attrelid = '"user_message_mappings"':...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"user_message_mappings"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36m (116.4ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (112.8ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (268.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (262.6ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (24.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (11.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20160625112803)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20160625112803)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20160625112803)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20160625112803)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (32.1ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160625112803"]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateUserMessages (20160629175604)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629175604"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (114.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (113.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (454.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (341.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:59:49.116223"], ["type_name", "inbox"], ["updated_at", "2016-06-29 17:59:49.116223"]]
  [1m[35m (125.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-06-29 17:59:49.245620"], ["type_name", "sent"], ["updated_at", "2016-06-29 17:59:49.245620"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:59:49.251395"], ["type_name", "drafts"], ["updated_at", "2016-06-29 17:59:49.251395"]]
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-06-29 17:59:49.256867"], ["type_name", "trash"], ["updated_at", "2016-06-29 17:59:49.256867"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-06-29 17:59:49.260197"], ["type_name", "spam"], ["updated_at", "2016-06-29 17:59:49.260197"]]
  [1m[35m (0.7ms)[0m  COMMIT


Started POST "/users" for 127.0.0.1 at 2016-07-19 16:36:14 +0300

NameError (uninitialized constant User::Doorkeeper):
  app/models/user.rb:10:in `<class:User>'
  app/models/user.rb:1:in `<top (required)>'
  config/routes.rb:2:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (41.3ms)
  [1m[36mActiveRecord::SchemaMigration Load (98.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (595.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (31.7ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (25.1ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-19 16:51:32 +0300
  [1m[36mActiveRecord::SchemaMigration Load (3.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

LoadError (Unable to autoload constant RegistrationsController, expected /home/nogi/Development/Rails/mail_on_rails/server/app/controllers/registrations_controller.rb to define it):
  activesupport (4.1.12) lib/active_support/dependencies.rb:481:in `load_missing_constant'
  activesupport (4.1.12) lib/active_support/dependencies.rb:180:in `const_missing'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:238:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:238:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  activesupport (4.1.12) lib/active_support/dependencies.rb:552:in `get'
  activesupport (4.1.12) lib/active_support/dependencies.rb:583:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 16:57:02 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant RegistrationsController):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:238:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:238:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (27.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (133.3ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 16:59:11 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant RegistrationsController):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:238:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:238:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (34.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:02:16 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "firstName"=>"Hikari", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordValid"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "passwordConfirmMatch"=>"[FILTERED]"}
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms)

ActionController::ParameterMissing (param is missing or the value is empty: user):
  app/controllers/users_controller.rb:14:in `user_params'
  app/controllers/users_controller.rb:3:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:04:11 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "firstName"=>"Hikari", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordValid"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "passwordConfirmMatch"=>"[FILTERED]"}
Completed 500 Internal Server Error in 27016ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:15:in `user_params'
  app/controllers/users_controller.rb:3:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (34.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:05:11 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "firstName"=>"Hikari", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordValid"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "passwordConfirmMatch"=>"[FILTERED]"}
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms)

ActionController::ParameterMissing (param is missing or the value is empty: ):
  app/controllers/users_controller.rb:14:in `user_params'
  app/controllers/users_controller.rb:3:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (42.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:06:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "firstName"=>"Hikari", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordValid"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "passwordConfirmMatch"=>"[FILTERED]"}
Unpermitted parameters: passwordValid, passwordConfirm, passwordConfirmMatch
Completed 500 Internal Server Error in 82ms (ActiveRecord: 1.9ms)

ActiveRecord::UnknownAttributeError (unknown attribute: firstName):
  app/controllers/users_controller.rb:3:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:06:53 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "firstName"=>"Hikari", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordValid"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "passwordConfirmMatch"=>"[FILTERED]"}
Unpermitted parameters: firstName, lastName, passwordValid, passwordConfirm, passwordConfirmMatch
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (112.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (2.51ms)
Completed 412 Precondition Failed in 1107ms (Views: 212.9ms | ActiveRecord: 115.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:09:04 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "firstName"=>"Hikari", "lastName"=>"Perlman", "password"=>"[FILTERED]", "passwordValid"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "passwordConfirmMatch"=>"[FILTERED]"}
Unpermitted parameters: firstName, lastName, passwordValid, passwordConfirm, passwordConfirmMatch
Completed 500 Internal Server Error in 42572ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:5:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (50.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:13:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (26.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (92.2ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-19 14:14:11.103388"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$4NgJT3YnWvcHbEsUTPir8eNRrtXI.gpY8CXcx/XAvNWErq3CUsVlC"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-19 14:14:11.103388"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
Redirected to 
Completed 500 Internal Server Error in 17826ms (ActiveRecord: 132.5ms)

NoMethodError (undefined method `user_url' for #<UsersController:0x007f93583d75f0>):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.1ms)
  [1m[36mUser Load (23.7ms)[0m  [1mSELECT "users".* FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:16:05 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 14518ms (ActiveRecord: 3.2ms)

SystemExit (exit):
  app/controllers/users_controller.rb:11:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (43.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:16:43 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com", "first_name"=>"HikariA", "last_name"=>"PerlmanA", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-07-19 14:16:47.584074"], ["email", "hikarij1@gmail.com"], ["encrypted_password", "$2a$10$3ppB7WI25FJWpAVzG3KaDuv3Uf/uM07yqY.ghZYvDu5E1.pk5ec5S"], ["first_name", "HikariA"], ["last_name", "PerlmanA"], ["updated_at", "2016-07-19 14:16:47.584074"]]
  [1m[35m (0.6ms)[0m  COMMIT
Redirected to 
Completed 500 Internal Server Error in 22745ms (ActiveRecord: 1.7ms)

NoMethodError (undefined method `user_url' for #<UsersController:0x007f9a6880c780>):
  app/controllers/users_controller.rb:8:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.4ms)
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", nil]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", nil]]
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", nil]]
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:22:20 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-19 14:22:20.925142"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$fS5xP4t0IJzRUJQqFSYbJe2uex2TW5pE/PmGEEID2VbaVofXh7LfK"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-19 14:22:20.925142"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Redirected to 
Completed 500 Internal Server Error in 127ms (ActiveRecord: 3.6ms)

NoMethodError (undefined method `user_url' for #<UsersController:0x007fbff0221340>):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.6ms)
  [1m[36mSQL (2.1ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:24:35 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-19 14:24:35.260107"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$LEdyFfiBMpXxpIP36.HWq.5dRQ6UBaAuKjRJyEWSXeoB36LfAjOwq"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-19 14:24:35.260107"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 247ms (ActiveRecord: 3.9ms)

NameError (uninitialized constant UserSerializer::AccessTokenSerializer):
  app/serializers/user_serializer.rb:3:in `<class:UserSerializer>'
  app/serializers/user_serializer.rb:1:in `<top (required)>'
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.2ms)
  [1m[35mSQL (2.2ms)[0m  DELETE FROM "users"


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:25:45 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-19 14:25:45.735880"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$ctuoDjwc.KLkMzpisyJH4ejfSEj4qtROG4inRyO1eUcYlMDpnNMja"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-19 14:25:45.735880"]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.56ms)
Completed 500 Internal Server Error in 183ms (ActiveRecord: 4.7ms)

NoMethodError (undefined method `name' for #<User:0x007fbff03e40d8>):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mSQL (26.9ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:27:21 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-19 14:27:21.318142"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$XxSCWwwUtHYRw3h4BRJX0.JLb3FQwMvzuU9PKaDqrCS4JIF5HZReu"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-19 14:27:21.318142"]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers]   [1m[35mDoorkeeper::AccessToken Load (37.6ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."resource_owner_id" = $1  ORDER BY created_at DESC LIMIT 1  [["resource_owner_id", nil]]
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (134.49ms)
Completed 200 OK in 231ms (Views: 99.9ms | ActiveRecord: 42.4ms)
  [1m[35mSQL (31.4ms)[0m  DELETE FROM "users"


Started POST "/users" for 127.0.0.1 at 2016-07-19 17:30:41 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (14.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-07-19 14:30:41.947638"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$Qe9LPahtYGZ.VFg6jJepP.XnqCtrocdnuXLA/RZR9M79sFUt6gQ7O"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-19 14:30:41.947638"]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 500 Internal Server Error in 108ms (ActiveRecord: 17.9ms)

NoMethodError (undefined method `token' for nil:NilClass):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.6ms)
  [1m[36mSQL (140.4ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-21 15:35:57 +0300
  [1m[36mActiveRecord::SchemaMigration Load (148.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35mDoorkeeper::Application Load (67.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."uid" IS NULL AND "oauth_applications"."secret" IS NULL LIMIT 1
Completed 500 Internal Server Error in 10273ms (ActiveRecord: 68.4ms)

ActionView::MissingTemplate (Missing template users/create, devise/registrations/create, devise/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (440.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-21 15:36:47 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mDoorkeeper::Application Load (1.0ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."uid" IS NULL AND "oauth_applications"."secret" IS NULL LIMIT 1[0m
Completed 500 Internal Server Error in 97ms (ActiveRecord: 1.0ms)

ActionView::MissingTemplate (Missing template users/create, devise/registrations/create, devise/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (72.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-21 15:40:37 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."uid" IS NULL AND "oauth_applications"."secret" IS NULL LIMIT 1
Completed 500 Internal Server Error in 29136ms (ActiveRecord: 1.0ms)

ActionView::MissingTemplate (Missing template users/create, devise/registrations/create, devise/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (0.4ms)


Started GET "/oauth/application/new" for 127.0.0.1 at 2016-07-21 17:20:50 +0300

ActionController::RoutingError (No route matches [GET] "/oauth/application/new"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (47.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (33.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (147.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (381.7ms)


Started GET "/oauth/application/new" for 127.0.0.1 at 2016-07-21 17:21:08 +0300

ActionController::RoutingError (No route matches [GET] "/oauth/application/new"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (25.7ms)


Started GET "/oauth/applications/new" for 127.0.0.1 at 2016-07-21 17:21:18 +0300
Processing by Doorkeeper::ApplicationsController#new as HTML
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views/doorkeeper/applications/_form.html.erb (204.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views/doorkeeper/applications/new.html.erb within layouts/doorkeeper/admin (515.8ms)
Completed 500 Internal Server Error in 3481ms (ActiveRecord: 210.9ms)

ActionView::Template::Error (undefined local variable or method `root_path' for #<#<Class:0x007ff228258510>:0x007ff228257a48>):
    19:         <%= link_to t('doorkeeper.layouts.admin.nav.applications'), oauth_applications_path %>
    20:       <% end %>
    21:       <%= content_tag :li do %>
    22:         <%= link_to 'Home', root_path %>
    23:       <% end %>
    24:     </ul>
    25:   </div>
  doorkeeper (3.1.0) app/views/layouts/doorkeeper/admin.html.erb:22:in `block in __home_nogi__rvm_gems_ruby_______gems_doorkeeper_______app_views_layouts_doorkeeper_admin_html_erb__1296729800650077891_70339016172640'
  actionview (4.1.12) lib/action_view/helpers/capture_helper.rb:38:in `block in capture'
  actionview (4.1.12) lib/action_view/helpers/capture_helper.rb:202:in `with_output_buffer'
  actionview (4.1.12) lib/action_view/helpers/capture_helper.rb:38:in `capture'
  actionview (4.1.12) lib/action_view/helpers/tag_helper.rb:97:in `content_tag'
  doorkeeper (3.1.0) app/views/layouts/doorkeeper/admin.html.erb:21:in `__home_nogi__rvm_gems_ruby_______gems_doorkeeper_______app_views_layouts_doorkeeper_admin_html_erb__1296729800650077891_70339016172640'
  actionview (4.1.12) lib/action_view/template.rb:145:in `block in render'
  activesupport (4.1.12) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.12) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.12) lib/action_view/template.rb:143:in `render'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:67:in `render_with_layout'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.12) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (13.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (48.8ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '25187a0012d8d78ec0a6a704425f87903263351c1a339b7a64a902e168bdd549' LIMIT 1
  [1m[36mSQL (94.0ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-07-21 14:31:50.202560"], ["name", "test"], ["redirect_uri", "http://test.com"], ["secret", "ce9cdaa5e1e00c3c76b09ba518f9192a27124e7ba6415e25e4486179910e393b"], ["uid", "25187a0012d8d78ec0a6a704425f87903263351c1a339b7a64a902e168bdd549"], ["updated_at", "2016-07-21 14:31:50.202560"]]
  [1m[35m (0.9ms)[0m  COMMIT


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:40:46 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 500 Internal Server Error in 96ms (ActiveRecord: 1.6ms)

NameError (uninitialized constant ApplicationController::DOORKEEPER_APP_NAME):
  app/controllers/application_controller.rb:6:in `doorkeeper_oauth_client'
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:43:13 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (undefined local variable or method `protect_from_forgery' for ApplicationController:Class):
  app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/users_controller.rb:1:in `<top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (64.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:45:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 56677ms (ActiveRecord: 3.3ms)

NameError (undefined local variable or method `app' for #<UsersController:0x007fc25c27c1a0>):
  app/controllers/users_controller.rb:8:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:50:19 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (21.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '919e4e58e028027cee050c829417698fd6c0a9da36d44c25e1a75cf650ede53a' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:50:20.172184"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "aa0309a9196377ff46f34d1223efb256c75a4be88a86796e02a8c0d981132857"], ["uid", "919e4e58e028027cee050c829417698fd6c0a9da36d44c25e1a75cf650ede53a"], ["updated_at", "2016-07-21 18:50:20.172184"]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 34152ms (ActiveRecord: 27.4ms)

NameError (undefined local variable or method `app' for #<UsersController:0x007fc25c43dcc8>):
  app/controllers/users_controller.rb:8:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:51:12 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '4e865663ef16d224cc624f9a9942f32892c332de3101f41122f5013581fd5407' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:51:12.444322"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "9ca9b00c8c364f0b5c33f434e581919e5a9c195dd5acbcb49dbab8be38873198"], ["uid", "4e865663ef16d224cc624f9a9942f32892c332de3101f41122f5013581fd5407"], ["updated_at", "2016-07-21 18:51:12.444322"]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mUser Exists (34.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (4.8ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:51:31.427967"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$ozfM6M/vtqpKccTPx3jTKeFOUe6s0FAVPfSOQ1hu.2Gx9hPd1hDIi"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-21 18:51:31.427967"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 40320ms (ActiveRecord: 48.8ms)

SystemExit (exit):
  app/controllers/users_controller.rb:12:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (42.3ms)
  [1m[36mSQL (1.9ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:54:06 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '1c6b2dbf6c398accc587b02ce83ebaf34761dcf7ee0733ac588be0e7afeafc52' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:54:15.747866"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "991ff4f78b4e4f0775045874a4110474604ae1a579fd7432f27bff64a7a83838"], ["uid", "1c6b2dbf6c398accc587b02ce83ebaf34761dcf7ee0733ac588be0e7afeafc52"], ["updated_at", "2016-07-21 18:54:15.747866"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:54:15.754971"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$yfSCChMCL0b5d1yOcTBgN.eW24E9Mhf8KSUBGTH5pbIGaIO8h4XBG"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-21 18:54:15.754971"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (33.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '917e83050506d388734988ef89d2097922dd3e4fb97560903637b8c3ae458cc5' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '5523aac4b5594714e6fcd0c9e186f18c6747245b83c379bae0c3d773f9e66860' LIMIT 1[0m
  [1m[35mSQL (10.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-21 18:54:15.892740"], ["expires_in", 7200], ["refresh_token", "5523aac4b5594714e6fcd0c9e186f18c6747245b83c379bae0c3d773f9e66860"], ["scopes", "public write preferences"], ["token", "917e83050506d388734988ef89d2097922dd3e4fb97560903637b8c3ae458cc5"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 24248ms (ActiveRecord: 74.5ms)

NameError (uninitialized constant UsersController::Api):
  app/controllers/users_controller.rb:12:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.8ms)
  [1m[35mSQL (2.3ms)[0m  DELETE FROM "users"


Started POST "/users" for 127.0.0.1 at 2016-07-21 21:55:17 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '80ce8a241ba834cf9350daf7fd4cc3c87f379f9999fc095c112e97e2f760f1d2' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:55:21.200030"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "c1a5a0400037cb40afa58b0147a794790db13a19af4e659ff7cfffc25dfe798a"], ["uid", "80ce8a241ba834cf9350daf7fd4cc3c87f379f9999fc095c112e97e2f760f1d2"], ["updated_at", "2016-07-21 18:55:21.200030"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-21 18:55:21.206398"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$2Rk8ZdxKQd.u4xcskspLCebCYplIa56xCZRYxFHT9YEI77zD/J/NO"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-21 18:55:21.206398"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '9937db8d6060fc40fa6814ef51f923b802b09aab51e44956cce0e2883f2c0676' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'd725c5d783b5d75eb68f60a821c945e6cdde3c5ba0a36debd83ea7c228610473' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-21 18:55:21.219094"], ["expires_in", 7200], ["refresh_token", "d725c5d783b5d75eb68f60a821c945e6cdde3c5ba0a36debd83ea7c228610473"], ["scopes", "public write preferences"], ["token", "9937db8d6060fc40fa6814ef51f923b802b09aab51e44956cce0e2883f2c0676"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 201 Created in 6169ms (Views: 116.6ms | ActiveRecord: 8.3ms)
  [1m[36mUser Load (35.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mSQL (2.6ms)[0m  DELETE FROM "users"
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "oauth_applications"[0m
  [1m[36mSQL (84.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mDoorkeeper::Application Load (85.7ms)[0m  SELECT "oauth_applications".* FROM "oauth_applications"
  [1m[36mDoorkeeper::Application Load (46.8ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT "oauth_applications".* FROM "oauth_applications"[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:12:54 +0300
  [1m[36mActiveRecord::SchemaMigration Load (73.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 123ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email' for #<ActionController::Parameters:0x007f89a046bdc0>):
  app/controllers/users_controller.rb:5:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:13:25 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email' for #<ActionController::Parameters:0x007f89a08d2d28>):
  app/controllers/users_controller.rb:5:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:13:47 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 33635ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email' for #<ActionController::Parameters:0x00000006366338>):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:14:30 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (34.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (16.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-07-23 22:14:30.592518"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$kbTlU9LgZwsNN0wd.luR6..1.PaCxQCslVPaxFft0KS.uYGa0Pi2G"], ["first_name", "Hikari"], ["last_name", "Perlman"], ["updated_at", "2016-07-23 22:14:30.592518"]]
  [1m[35m (72.6ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.8ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (28.8ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '9daaf22b3d50c05f1be11c1a1758174cd47ab085ea09f1a508d6a2713d2d7851' LIMIT 1[0m
  [1m[35mSQL (83.4ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-23 22:14:41.549102"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "3e05498980f33783babf4c0177760bcd218bad1525e30007aa3a27aff38cccae"], ["uid", "9daaf22b3d50c05f1be11c1a1758174cd47ab085ea09f1a508d6a2713d2d7851"], ["updated_at", "2016-07-23 22:14:41.549102"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 11298ms (ActiveRecord: 245.2ms)

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:8:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:15:53 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.9ms)

NoMethodError (undefined method `not_exists?' for nil:NilClass):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:16:24 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.9ms)

NoMethodError (undefined method `does_not_exist?' for nil:NilClass):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:17:17 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.6ms)

NoMethodError (undefined method `exists?' for nil:NilClass):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:17:48 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
Completed 500 Internal Server Error in 108478ms (ActiveRecord: 2.4ms)

NoMethodError (undefined method `exists?' for nil:NilClass):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:19:43 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mUser Load (51.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
Completed 500 Internal Server Error in 172920ms (ActiveRecord: 58.6ms)

NoMethodError (undefined method `id' for false:FalseClass):
  app/controllers/users_controller.rb:9:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:22:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.7ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
Completed 500 Internal Server Error in 60508ms (ActiveRecord: 5.7ms)

NoMethodError (undefined method `id' for false:FalseClass):
  app/controllers/users_controller.rb:9:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:23:51 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT "oauth_applications".* FROM "oauth_applications"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.5ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (38.9ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '6dbd087d90b2f5818a02c44837a7b5e0da402876d60a1a3594b2bf4c0233b253' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (5.9ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '6a60b1742d2a2d179fe650eb7256de2564080acee337172612522a41d67384e0' LIMIT 1
  [1m[36mSQL (40.9ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-23 22:24:22.723766"], ["expires_in", 7200], ["refresh_token", "6a60b1742d2a2d179fe650eb7256de2564080acee337172612522a41d67384e0"], ["scopes", "public write preferences"], ["token", "6dbd087d90b2f5818a02c44837a7b5e0da402876d60a1a3594b2bf4c0233b253"]]
  [1m[35m (0.7ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.81ms)
Completed 201 Created in 31638ms (Views: 104.0ms | ActiveRecord: 136.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:25:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
Completed 500 Internal Server Error in 22663ms (ActiveRecord: 4.1ms)

NoMethodError (undefined method `token' for nil:NilClass):
  app/controllers/users_controller.rb:10:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:26:48 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
Completed 500 Internal Server Error in 3072ms (ActiveRecord: 3.3ms)

NoMethodError (undefined method `token' for nil:NilClass):
  app/controllers/users_controller.rb:10:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:29:25 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
Completed 500 Internal Server Error in 5243ms (ActiveRecord: 3.9ms)

NoMethodError (undefined method `exists' for #<User:0x007f89a03c5b50>):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:29:42 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
Completed 500 Internal Server Error in 3205ms (ActiveRecord: 3.0ms)

NoMethodError (undefined method `exists?' for #<User:0x0000000637f978>):
  app/controllers/users_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:30:00 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mDoorkeeper::Application Load (0.5ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '33ad131f49828418d331f70c5930f57d10eb8bb1857635eda145918200e8abb1' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'ef4106dbd9f204ea769afcd623d44f64029872d99dda69c90f2bcc5adbd89c20' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-23 22:30:02.674748"], ["expires_in", 7200], ["refresh_token", "ef4106dbd9f204ea769afcd623d44f64029872d99dda69c90f2bcc5adbd89c20"], ["scopes", "public write preferences"], ["token", "33ad131f49828418d331f70c5930f57d10eb8bb1857635eda145918200e8abb1"]]
  [1m[35m (4.6ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 201 Created in 2240ms (Views: 12.1ms | ActiveRecord: 11.0ms)
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-24 01:33:24 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
PG::UndefinedColumn: ERROR:  column "user_id" does not exist
LINE 1: ...ted_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "user_id"
                                                              ^
: INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "user_id"
  [1m[35m (0.2ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 148ms (ActiveRecord: 4.2ms)

ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "user_id" does not exist
LINE 1: ...ted_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "user_id"
                                                              ^
: INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "user_id"):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.5ms)
  [1m[36m (5056.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
PG::ObjectInUse: ERROR:  database "mail_on_rails_development" is being accessed by other users
DETAIL:  There is 1 other session using the database.
: DROP DATABASE IF EXISTS "mail_on_rails_development"
  [1m[35m (373.8ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (0.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
PG::DuplicateDatabase: ERROR:  database "mail_on_rails_development" already exists
: CREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'
  [1m[35m (2157.7ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (160.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (218.3ms)[0m  DROP TABLE "message_types"
  [1m[36m (308.6ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  DROP TABLE "messages"
  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (20.8ms)[0m  DROP TABLE "oauth_access_grants"
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (5.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (3.5ms)[0m  [1mDROP TABLE "oauth_access_tokens"[0m
  [1m[35m (19.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (5.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (23.7ms)[0m  DROP TABLE "oauth_applications"
  [1m[36m (25.2ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "user_messages"[0m
  [1m[35m (3.7ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.6ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (18.0ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (1.7ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (27.6ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.4ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.3ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (8.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (18.3ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (6.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (8.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (11.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (11.7ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (9.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (5.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 07:57:03.349955"], ["type_name", "inbox"], ["updated_at", "2016-07-24 07:57:03.349955"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 07:57:03.355802"], ["type_name", "sent"], ["updated_at", "2016-07-24 07:57:03.355802"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 07:57:03.358907"], ["type_name", "drafts"], ["updated_at", "2016-07-24 07:57:03.358907"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 07:57:03.361318"], ["type_name", "trash"], ["updated_at", "2016-07-24 07:57:03.361318"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 07:57:03.364172"], ["type_name", "spam"], ["updated_at", "2016-07-24 07:57:03.364172"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)  [["created_at", "2016-07-24 07:58:39.130453"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$xYAnVXdY0eUW2UR29TAvvulqcUGVehZtLIjJd1wNBs3pMXR7zcdmC"], ["first_name", "or"], ["last_name", "perlman"], ["updated_at", "2016-07-24 07:58:39.130453"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (5032.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
PG::ObjectInUse: ERROR:  database "mail_on_rails_development" is being accessed by other users
DETAIL:  There is 1 other session using the database.
: DROP DATABASE IF EXISTS "mail_on_rails_development"
  [1m[35m (106.4ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (0.4ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
PG::DuplicateDatabase: ERROR:  database "mail_on_rails_development" already exists
: CREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'
  [1m[35m (286.0ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (77.7ms)[0m  DROP TABLE "message_types"
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "messages"
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  DROP TABLE "oauth_access_grants"
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (3.2ms)[0m  [1mDROP TABLE "oauth_access_tokens"[0m
  [1m[35m (15.2ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (5.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (1.7ms)[0m  DROP TABLE "oauth_applications"
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.4ms)[0m  [1mDROP TABLE "user_messages"[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (17.6ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (0.8ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.4ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (10.5ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (5.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (8.5ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (3.3ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.5ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (4.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:02:23.764498"], ["type_name", "inbox"], ["updated_at", "2016-07-24 08:02:23.764498"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 08:02:23.768357"], ["type_name", "sent"], ["updated_at", "2016-07-24 08:02:23.768357"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:02:23.770993"], ["type_name", "drafts"], ["updated_at", "2016-07-24 08:02:23.770993"]]
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 08:02:23.775857"], ["type_name", "trash"], ["updated_at", "2016-07-24 08:02:23.775857"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:02:23.778764"], ["type_name", "spam"], ["updated_at", "2016-07-24 08:02:23.778764"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)  [["created_at", "2016-07-24 08:03:20.632519"], ["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$fIw.0ZhOPjdIduZSpQLG0u8Nqvzb/V/I4jFVVso1bto9Vk0rfOu7i"], ["first_name", "Or"], ["last_name", "Perlman"], ["updated_at", "2016-07-24 08:03:20.632519"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (5019.4ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
PG::ObjectInUse: ERROR:  database "mail_on_rails_development" is being accessed by other users
DETAIL:  There is 1 other session using the database.
: DROP DATABASE IF EXISTS "mail_on_rails_development"
  [1m[35m (145.8ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (0.5ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
PG::DuplicateDatabase: ERROR:  database "mail_on_rails_development" already exists
: CREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'
  [1m[35m (484.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (4.7ms)[0m  DROP TABLE "message_types"
  [1m[36m (10.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  DROP TABLE "messages"
  [1m[36m (23.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  DROP TABLE "oauth_access_grants"
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (7.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.4ms)[0m  [1mDROP TABLE "oauth_access_tokens"[0m
  [1m[35m (9.4ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (4.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (2.9ms)[0m  DROP TABLE "oauth_applications"
  [1m[36m (10.0ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.3ms)[0m  [1mDROP TABLE "user_messages"[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.9ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (4.4ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.7ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (5.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (4.9ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (5.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:17:44.518210"], ["type_name", "inbox"], ["updated_at", "2016-07-24 08:17:44.518210"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 08:17:44.521571"], ["type_name", "sent"], ["updated_at", "2016-07-24 08:17:44.521571"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:17:44.523638"], ["type_name", "drafts"], ["updated_at", "2016-07-24 08:17:44.523638"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 08:17:44.527772"], ["type_name", "trash"], ["updated_at", "2016-07-24 08:17:44.527772"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:17:44.531743"], ["type_name", "spam"], ["updated_at", "2016-07-24 08:17:44.531743"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (233.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (107.8ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (406.8ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (364.0ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.0ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (6.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.4ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (10.4ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (9.1ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.8ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:18:02.126388"], ["type_name", "inbox"], ["updated_at", "2016-07-24 08:18:02.126388"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 08:18:02.132712"], ["type_name", "sent"], ["updated_at", "2016-07-24 08:18:02.132712"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:18:02.134701"], ["type_name", "drafts"], ["updated_at", "2016-07-24 08:18:02.134701"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 08:18:02.136270"], ["type_name", "trash"], ["updated_at", "2016-07-24 08:18:02.136270"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 08:18:02.139117"], ["type_name", "spam"], ["updated_at", "2016-07-24 08:18:02.139117"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'a@b.com' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)  [["created_at", "2016-07-24 08:18:38.580403"], ["email", "a@b.com"], ["encrypted_password", "$2a$10$moGElwNDSZIUSSbLDGhHzu5MLk/J7XLVoTCql1wL2uzhyBqaYchj2"], ["first_name", "a"], ["last_name", "b"], ["updated_at", "2016-07-24 08:18:38.580403"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[36m (634.2ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (185.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1133.5ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (333.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.7ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (155.5ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (33.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (5.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (4.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.6ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (47.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (9.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (40.8ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (5.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (3.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (17.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:40:15.226101"], ["type_name", "inbox"], ["updated_at", "2016-07-24 09:40:15.226101"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:40:15.231911"], ["type_name", "sent"], ["updated_at", "2016-07-24 09:40:15.231911"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:40:15.235291"], ["type_name", "drafts"], ["updated_at", "2016-07-24 09:40:15.235291"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:40:15.238154"], ["type_name", "trash"], ["updated_at", "2016-07-24 09:40:15.238154"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:40:15.240847"], ["type_name", "spam"], ["updated_at", "2016-07-24 09:40:15.240847"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'a@b.com' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)  [["created_at", "2016-07-24 09:40:48.046457"], ["email", "a@b.com"], ["encrypted_password", "$2a$10$J0kWSHAHNyWWu7ofhCMks.uNei.39xAvMMkxGkggOi1MMfEyL71ai"], ["first_name", "a"], ["last_name", "b"], ["updated_at", "2016-07-24 09:40:48.046457"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (129.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (309.8ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (288.0ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (11.0ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (8.8ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (5.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.5ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.5ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (10.6ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (7.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.9ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (4.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:44:49.667274"], ["type_name", "inbox"], ["updated_at", "2016-07-24 09:44:49.667274"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:44:49.672048"], ["type_name", "sent"], ["updated_at", "2016-07-24 09:44:49.672048"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:44:49.675225"], ["type_name", "drafts"], ["updated_at", "2016-07-24 09:44:49.675225"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:44:49.679158"], ["type_name", "trash"], ["updated_at", "2016-07-24 09:44:49.679158"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:44:49.682457"], ["type_name", "spam"], ["updated_at", "2016-07-24 09:44:49.682457"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (106.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (107.1ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (259.3ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (336.0ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.1ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (4.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35m (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.7ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (5.0ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.3ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:44:58.747265"], ["type_name", "inbox"], ["updated_at", "2016-07-24 09:44:58.747265"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:44:58.751589"], ["type_name", "sent"], ["updated_at", "2016-07-24 09:44:58.751589"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:44:58.755822"], ["type_name", "drafts"], ["updated_at", "2016-07-24 09:44:58.755822"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:44:58.759241"], ["type_name", "trash"], ["updated_at", "2016-07-24 09:44:58.759241"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:44:58.761776"], ["type_name", "spam"], ["updated_at", "2016-07-24 09:44:58.761776"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (106.2ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (108.1ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (307.4ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (341.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (3.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (5.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (2.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (1.3ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.1ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (9.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (4.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:46:26.131363"], ["type_name", "inbox"], ["updated_at", "2016-07-24 09:46:26.131363"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:46:26.135819"], ["type_name", "sent"], ["updated_at", "2016-07-24 09:46:26.135819"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:46:26.138013"], ["type_name", "drafts"], ["updated_at", "2016-07-24 09:46:26.138013"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 09:46:26.142031"], ["type_name", "trash"], ["updated_at", "2016-07-24 09:46:26.142031"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 09:46:26.145716"], ["type_name", "spam"], ["updated_at", "2016-07-24 09:46:26.145716"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (44.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 11:41:24.441391"], ["email", "b@c.dom"], ["first_name", "john"], ["last_name", "doe"], ["updated_at", "2016-07-24 11:41:24.441391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
PG::SyntaxError: ERROR:  zero-length delimited identifier at or near """"
LINE 1: ...users" SET "id" = $1, "updated_at" = $2 WHERE "users"."" = 1
                                                                 ^
: UPDATE "users" SET "id" = $1, "updated_at" = $2 WHERE "users"."" = 1
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "id", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)[0m  [["created_at", "2016-07-24 11:42:46.914758"], ["email", "Or.Perlman@outlook.com"], ["first_name", "Or"], ["id", 1], ["last_name", "Perlman"], ["updated_at", "2016-07-24 11:42:46.914758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 11:43:17.501214"], ["email", "john@doe.com"], ["first_name", "john"], ["last_name", "doe"], ["updated_at", "2016-07-24 11:43:17.501214"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (41.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.9ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (70.2ms)[0m  DROP TABLE "message_types"
  [1m[36m (51.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  DROP TABLE "messages"
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.2ms)[0m  DROP TABLE "oauth_access_grants"
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (6.7ms)[0m  [1mDROP TABLE "oauth_access_tokens"[0m
  [1m[35m (10.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (3.3ms)[0m  DROP TABLE "oauth_applications"
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "user_messages"[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (97.5ms)[0m  [1mDROP TABLE "message_types"[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mDROP TABLE "messages"[0m
  [1m[35m (3.4ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.7ms)[0m  [1mDROP TABLE "oauth_access_grants"[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (25.2ms)[0m  DROP TABLE "oauth_access_tokens"
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.7ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "oauth_applications"[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.3ms)[0m  DROP TABLE "user_messages"
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.9ms)[0m  DROP TABLE "users"
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.7ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 11:48:20.478554"], ["type_name", "inbox"], ["updated_at", "2016-07-24 11:48:20.478554"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 11:48:20.484473"], ["type_name", "sent"], ["updated_at", "2016-07-24 11:48:20.484473"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 11:48:20.489083"], ["type_name", "drafts"], ["updated_at", "2016-07-24 11:48:20.489083"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 11:48:20.492454"], ["type_name", "trash"], ["updated_at", "2016-07-24 11:48:20.492454"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 11:48:20.496273"], ["type_name", "spam"], ["updated_at", "2016-07-24 11:48:20.496273"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 11:48:48.366709"], ["email", "a@b.com"], ["first_name", "a"], ["last_name", "b"], ["updated_at", "2016-07-24 11:48:48.366709"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (27.1ms)[0m  [1mSELECT MAX("users"."id") AS max_id FROM "users"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "first_name", "id", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)  [["created_at", "2016-07-24 11:51:05.726543"], ["email", "a@b.com"], ["first_name", "a"], ["id", 1], ["last_name", "b"], ["updated_at", "2016-07-24 11:51:05.726543"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("users"."id") AS max_id FROM "users"
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "id", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5, $6)[0m  [["created_at", "2016-07-24 11:51:40.293110"], ["email", "AAa\n@b.com"], ["first_name", "c"], ["id", 2], ["last_name", "d"], ["updated_at", "2016-07-24 11:51:40.293110"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (184.2ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1485.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (307.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (12.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160625112803')[0m
  [1m[35mSQL (0.4ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (3.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "users" ("id" integer, "email" character varying(50) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 11:57:17.577192"], ["type_name", "inbox"], ["updated_at", "2016-07-24 11:57:17.577192"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 11:57:17.580806"], ["type_name", "sent"], ["updated_at", "2016-07-24 11:57:17.580806"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 11:57:17.583734"], ["type_name", "drafts"], ["updated_at", "2016-07-24 11:57:17.583734"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 11:57:17.586303"], ["type_name", "trash"], ["updated_at", "2016-07-24 11:57:17.586303"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 11:57:17.588274"], ["type_name", "spam"], ["updated_at", "2016-07-24 11:57:17.588274"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 11:58:47.466007"], ["email", "bla@a.com"], ["first_name", "a"], ["last_name", "b\n"], ["updated_at", "2016-07-24 11:58:47.466007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (108.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (109.8ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (293.0ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (353.6ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (14.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (7.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.2ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (4.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (107.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (109.4ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (286.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (297.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (2.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.7ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.9ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (5.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (5.2ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (5.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (11.1ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE "users" ("id" bigint, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.8ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (2.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (1.1ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (11.0ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (11.5ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (5.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.6ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (10.2ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.0ms)[0m  [1mCREATE TABLE "users" ("id" bigint, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (8.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (3.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (8.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (2.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (3.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (2.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:04:32.701968"], ["type_name", "inbox"], ["updated_at", "2016-07-24 12:04:32.701968"]]
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:04:32.715764"], ["type_name", "sent"], ["updated_at", "2016-07-24 12:04:32.715764"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:04:32.721495"], ["type_name", "drafts"], ["updated_at", "2016-07-24 12:04:32.721495"]]
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:04:32.729170"], ["type_name", "trash"], ["updated_at", "2016-07-24 12:04:32.729170"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:04:32.732922"], ["type_name", "spam"], ["updated_at", "2016-07-24 12:04:32.732922"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 12:05:06.390103"], ["email", "hikarij@gmail.com"], ["first_name", "or"], ["last_name", "perlman"], ["updated_at", "2016-07-24 12:05:06.390103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (106.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (412.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (344.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (1.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.2ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "users" ("id" bigint DEFAULT 1, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.2ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "users" ("id" bigint DEFAULT 1, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:05:40.633527"], ["type_name", "inbox"], ["updated_at", "2016-07-24 12:05:40.633527"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:05:40.637579"], ["type_name", "sent"], ["updated_at", "2016-07-24 12:05:40.637579"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:05:40.640717"], ["type_name", "drafts"], ["updated_at", "2016-07-24 12:05:40.640717"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:05:40.644184"], ["type_name", "trash"], ["updated_at", "2016-07-24 12:05:40.644184"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:05:40.647878"], ["type_name", "spam"], ["updated_at", "2016-07-24 12:05:40.647878"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 12:06:04.812649"], ["email", "b@b.com"], ["first_name", "b"], ["last_name", "bb"], ["updated_at", "2016-07-24 12:06:04.812649"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 12:06:38.504460"], ["email", "or.perlman@outlook.com"], ["first_name", "or\n"], ["last_name", "perlman"], ["updated_at", "2016-07-24 12:06:38.504460"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 12:10:28.655842"], ["email", "ab.c@.doc"], ["first_name", "t"], ["last_name", "p"], ["updated_at", "2016-07-24 12:10:28.655842"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (107.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (267.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (290.4ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "users" ("id" bigint, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (4.7ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.6ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "users" ("id" bigint, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:10:47.107899"], ["type_name", "inbox"], ["updated_at", "2016-07-24 12:10:47.107899"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:10:47.114694"], ["type_name", "sent"], ["updated_at", "2016-07-24 12:10:47.114694"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:10:47.116807"], ["type_name", "drafts"], ["updated_at", "2016-07-24 12:10:47.116807"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:10:47.120594"], ["type_name", "trash"], ["updated_at", "2016-07-24 12:10:47.120594"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:10:47.123116"], ["type_name", "spam"], ["updated_at", "2016-07-24 12:10:47.123116"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 12:11:08.335243"], ["email", "a@b.com"], ["first_name", "a"], ["last_name", "b"], ["updated_at", "2016-07-24 12:11:08.335243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)  [["created_at", "2016-07-24 12:11:32.563163"], ["email", "re@zero"], ["first_name", "re"], ["last_name", "zero"], ["updated_at", "2016-07-24 12:11:32.563163"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (420.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (204.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (278.4ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (379.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (65.0ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.5ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (12.1ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (4.1ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (11.2ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "users" ("email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.9ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (6.1ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "users" ("email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:52:34.915354"], ["type_name", "inbox"], ["updated_at", "2016-07-24 12:52:34.915354"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:52:34.922201"], ["type_name", "sent"], ["updated_at", "2016-07-24 12:52:34.922201"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:52:34.925894"], ["type_name", "drafts"], ["updated_at", "2016-07-24 12:52:34.925894"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 12:52:34.929268"], ["type_name", "trash"], ["updated_at", "2016-07-24 12:52:34.929268"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 12:52:34.931499"], ["type_name", "spam"], ["updated_at", "2016-07-24 12:52:34.931499"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5)[0m  [["created_at", "2016-07-24 12:53:00.993537"], ["email", "jiyuu@blog.com"], ["first_name", "ranze"], ["last_name", "terade"], ["updated_at", "2016-07-24 12:53:00.993537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (106.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (271.0ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (331.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.2ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (15.5ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (8.7ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "users" ("email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.2ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (4.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (9.1ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.6ms)[0m  [1mCREATE TABLE "users" ("email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:00:34.286544"], ["type_name", "inbox"], ["updated_at", "2016-07-24 13:00:34.286544"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 13:00:34.292503"], ["type_name", "sent"], ["updated_at", "2016-07-24 13:00:34.292503"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:00:34.297773"], ["type_name", "drafts"], ["updated_at", "2016-07-24 13:00:34.297773"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 13:00:34.302018"], ["type_name", "trash"], ["updated_at", "2016-07-24 13:00:34.302018"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:00:34.305083"], ["type_name", "spam"], ["updated_at", "2016-07-24 13:00:34.305083"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (105.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (280.5ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (270.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.7ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.9ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.1ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.5ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (8.7ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.8ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (9.1ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:01:16.082715"], ["type_name", "inbox"], ["updated_at", "2016-07-24 13:01:16.082715"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 13:01:16.089396"], ["type_name", "sent"], ["updated_at", "2016-07-24 13:01:16.089396"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:01:16.092669"], ["type_name", "drafts"], ["updated_at", "2016-07-24 13:01:16.092669"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 13:01:16.095701"], ["type_name", "trash"], ["updated_at", "2016-07-24 13:01:16.095701"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:01:16.098736"], ["type_name", "spam"], ["updated_at", "2016-07-24 13:01:16.098736"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2016-07-24 13:01:38.435170"], ["email", "dan.brown@gmail.com"], ["first_name", "dan"], ["last_name", "brown"], ["updated_at", "2016-07-24 13:01:38.435170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (106.7ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (107.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (284.6ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (373.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (5.5ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (4.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mSQL (1.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE "messages" ("id" bigint, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (4.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "user_messages" ("id" bigint, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(50) DEFAULT '' NOT NULL, "first_name" character varying(35), "last_name" character varying(35), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160625112803')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:08:07.999782"], ["type_name", "inbox"], ["updated_at", "2016-07-24 13:08:07.999782"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 13:08:08.006324"], ["type_name", "sent"], ["updated_at", "2016-07-24 13:08:08.006324"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:08:08.009092"], ["type_name", "drafts"], ["updated_at", "2016-07-24 13:08:08.009092"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-24 13:08:08.012342"], ["type_name", "trash"], ["updated_at", "2016-07-24 13:08:08.012342"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-24 13:08:08.014574"], ["type_name", "spam"], ["updated_at", "2016-07-24 13:08:08.014574"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2016-07-24 13:08:32.233209"], ["email", "omer@ben.yosef"], ["first_name", "or"], ["last_name", "last"], ["updated_at", "2016-07-24 13:08:32.233209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDeviseToUsers (20160727123114)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (58.2ms)[0m  [1mALTER TABLE "users" ADD COLUMN "email" character varying(255) DEFAULT '' NOT NULL[0m
PG::DuplicateColumn: ERROR:  column "email" of relation "users" already exists
: ALTER TABLE "users" ADD COLUMN "email" character varying(255) DEFAULT '' NOT NULL
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDeviseToUsers (20160727123114)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "users" ADD COLUMN "email" character varying(255) DEFAULT '' NOT NULL[0m
PG::DuplicateColumn: ERROR:  column "email" of relation "users" already exists
: ALTER TABLE "users" ADD COLUMN "email" character varying(255) DEFAULT '' NOT NULL
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (0.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1767.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (286.4ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (26.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160625112803)
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160625112803)
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (60.6ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateUserMessages (20160629175604)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629175604"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (59.9ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (3.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (106.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.7ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (331.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (315.7ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.7ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35mSQL (0.6ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (8.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (4.4ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-27 12:39:23.878608"], ["type_name", "inbox"], ["updated_at", "2016-07-27 12:39:23.878608"]]
  [1m[35m (135.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-27 12:39:24.018043"], ["type_name", "sent"], ["updated_at", "2016-07-27 12:39:24.018043"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-27 12:39:24.020388"], ["type_name", "drafts"], ["updated_at", "2016-07-27 12:39:24.020388"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-07-27 12:39:24.024731"], ["type_name", "trash"], ["updated_at", "2016-07-27 12:39:24.024731"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-07-27 12:39:24.029007"], ["type_name", "spam"], ["updated_at", "2016-07-27 12:39:24.029007"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'or.perlman@outlook.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'or.perlman@outlook.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'or.perlman@outlook.com' LIMIT 1[0m
  [1m[35mSQL (21.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "or.perlman@outlook.com"], ["encrypted_password", "$2a$10$HlNWPBs5DwMRFVA6HBnZfOMMCopZU1nl.172aNdHhKYhYh9GFlanq"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'jack.obrian@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "jack.obrian@gmail.com"], ["encrypted_password", "$2a$10$sQqjsxK9508EfPJc5aLf4.Ilep4gFIQxEEkTe2eQXUxt0v.q1NfoC"], ["first_name", "jack"], ["last_name", "brian"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:20:50 +0300
  [1m[36mActiveRecord::SchemaMigration Load (42.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  omniauth (1.3.1) lib/omniauth/strategy.rb:175:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (33.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:24:10 +0300

OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  omniauth (1.3.1) lib/omniauth/strategy.rb:175:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:24:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/shared/_links.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/registrations/new.html.erb (51.1ms)
Completed 200 OK in 435ms (Views: 75.9ms | ActiveRecord: 77.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:26:38 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/shared/_links.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/registrations/new.html.erb (12.9ms)
Completed 200 OK in 30ms (Views: 14.3ms | ActiveRecord: 2.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:26:58 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/shared/_links.erb (0.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views/devise/registrations/new.html.erb (4.9ms)
Completed 200 OK in 23ms (Views: 6.0ms | ActiveRecord: 2.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:28:16 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (61.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (25.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (35.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$tenqcUKkO/wpp5hxtNkmdO8SgCIpkQ7cdVSZS9Jw.id8E98qv35bi"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (28.1ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (39.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'b03777fe30179c94b9b0a7ee6397b43bf20a72335ddf3a3791143db79b84d5b4' LIMIT 1[0m
  [1m[35mSQL (32.4ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-27 21:28:23.459655"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "72a86385638a4b31a337cc54e5b629d7bdb4f39615967a2deee5e11804ee0349"], ["uid", "b03777fe30179c94b9b0a7ee6397b43bf20a72335ddf3a3791143db79b84d5b4"], ["updated_at", "2016-07-27 21:28:23.459655"]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 6857ms (ActiveRecord: 231.3ms)

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:9:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.5ms)
  [1m[36mSQL (2.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (2.5ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:30:19 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$v3zNUEttIBPoAbRNs2Y3s.YUTpxckJ/pVKKjTeN6BkCkfS7Fi5Xkq"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '6f646c523b646246d4319e29a3c28092268148bb883fe22f3b8a98fe9449efdc' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-27 21:30:24.959866"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "449462ae30c077512cc857f32b3345d62cad01c0a54ff7d5bd7220785719450d"], ["uid", "6f646c523b646246d4319e29a3c28092268148bb883fe22f3b8a98fe9449efdc"], ["updated_at", "2016-07-27 21:30:24.959866"]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (2.1ms)[0m  DELETE FROM "users"
  [1m[36mSQL (2.1ms)[0m  [1mDELETE FROM "oauth_applications"[0m
Completed 500 Internal Server Error in 48916ms (ActiveRecord: 15.5ms)

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:10:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:31:21 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$YjEpjGJ9XEhMNIHrjc55K.tT1bOuSh0fD5FAf4/e8cIPLp7cP4ZqW"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mSQL (2.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mDoorkeeper::Application Load (0.6ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'b3205e1aa5ca73948c8ba8a37010175634a13b46ee221d6241593af37dfafbfe' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-27 21:33:18.384826"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "2b9075c959d46cad845be3ee074752f5315547e1ee460b64f95b40a3941e6f7c"], ["uid", "b3205e1aa5ca73948c8ba8a37010175634a13b46ee221d6241593af37dfafbfe"], ["updated_at", "2016-07-27 21:33:18.384826"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users"
Completed 500 Internal Server Error in 131169ms (ActiveRecord: 14.2ms)

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:10:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:34:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$a93bNKOyeGee1z1UeCxJNOORXdrUm89C63By4js5vuh.vtu/fmQki"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 106ms (ActiveRecord: 6.5ms)

ActionView::MissingTemplate (Missing template users/create, devise/registrations/create, devise/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:36:57 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (30.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
Completed 500 Internal Server Error in 47ms (ActiveRecord: 33.2ms)

NoMethodError (undefined method `exists?' for #<User:0x007f27f403ca78>):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:37:16 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.9ms)

NoMethodError (undefined method `exists' for #<User:0x0000000553bb50>):
  app/controllers/users_controller.rb:6:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:39:32 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
  [1m[36mDoorkeeper::Application Load (50.9ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (46.6ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'e238e65b63688f4f119548bf95a9886f94442b9f3bc642a10c12bdae370af080' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'ee55e921f04e113ac50212b1c3285afc21e4c1bf7fba1399e853e0d7bd065b63' LIMIT 1[0m
  [1m[35mSQL (28.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-27 21:39:44.585249"], ["expires_in", 7200], ["refresh_token", "ee55e921f04e113ac50212b1c3285afc21e4c1bf7fba1399e853e0d7bd065b63"], ["resource_owner_id", 6], ["scopes", "public write preferences"], ["token", "e238e65b63688f4f119548bf95a9886f94442b9f3bc642a10c12bdae370af080"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 12218ms (Views: 77.7ms | ActiveRecord: 189.5ms)

AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/users_controller.rb:16:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:40:24 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '6d424cd9212e6994d5bb6074e33193c6630dfbbe3b8acdcaa6978456e8221ed9' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '69c9c3e1470ddf1357a4a151a80360c5f77cc981224e9580570eb0b000fee12e' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-27 21:41:20.068649"], ["expires_in", 7200], ["refresh_token", "69c9c3e1470ddf1357a4a151a80360c5f77cc981224e9580570eb0b000fee12e"], ["resource_owner_id", 6], ["scopes", "public write preferences"], ["token", "6d424cd9212e6994d5bb6074e33193c6630dfbbe3b8acdcaa6978456e8221ed9"]]
  [1m[36m (22.7ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 55409ms (Views: 6.0ms | ActiveRecord: 31.3ms)

AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/users_controller.rb:19:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:41:23 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 409 Conflict in 4238ms (Views: 9.5ms | ActiveRecord: 3.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:41:50 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 409 Conflict in 6140ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:42:38 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlmana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 409 Conflict in 30ms (Views: 7.0ms | ActiveRecord: 5.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:42:49 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlmana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij1@gmail.com"], ["encrypted_password", "$2a$10$vMJ6/muRH1CgTcHup/iDlOjTHL9NB7QB98pYBzs6XifidQHePj6Tq"], ["first_name", "Hikari"], ["last_name", "Perlmana"]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.6ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (2.8ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '322cd30cfebf0a4b86813c4646ca927386f70826ac20a7b98b69cdd82ddf5d9e' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'fcd9c4a41c5e2f6ad7f9d71bebb26d424ffc93fefe0a6afbec08beef88c9deb8' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-27 21:42:58.291280"], ["expires_in", 7200], ["refresh_token", "fcd9c4a41c5e2f6ad7f9d71bebb26d424ffc93fefe0a6afbec08beef88c9deb8"], ["resource_owner_id", 7], ["scopes", "public write preferences"], ["token", "322cd30cfebf0a4b86813c4646ca927386f70826ac20a7b98b69cdd82ddf5d9e"]]
  [1m[35m (12.5ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.6ms)
Completed 201 Created in 8518ms (Views: 2.0ms | ActiveRecord: 24.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:44:15 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlmana", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 409 Conflict in 23ms (Views: 7.1ms | ActiveRecord: 3.3ms)
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (2.2ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:45:19 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$lIKDCSFGxlTLa6a5zfigaetXTjdd2yUadZ7juVxB/4z5jJOczrtMW"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'd2f8bc88e6b13d4ea905b69277ccbd901db42a410ace59cf7322662917dec462' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-27 21:45:19.311373"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "c35df7e21fbbcf198b563d0f6e84d5125bb5f2f5e6417726398ae75041b285b3"], ["uid", "d2f8bc88e6b13d4ea905b69277ccbd901db42a410ace59cf7322662917dec462"], ["updated_at", "2016-07-27 21:45:19.311373"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '11bcfb9fcffabc4788eb390ed92b2e1127e85630818392d4e272100a42342cb0' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '7694ba7ac6d8720b40d3ab5058940cce0053cbd463faf97a755de71e60280605' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-27 21:45:19.323336"], ["expires_in", 7200], ["refresh_token", "7694ba7ac6d8720b40d3ab5058940cce0053cbd463faf97a755de71e60280605"], ["resource_owner_id", 8], ["scopes", "public write preferences"], ["token", "11bcfb9fcffabc4788eb390ed92b2e1127e85630818392d4e272100a42342cb0"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 500 Internal Server Error in 235ms (ActiveRecord: 9.2ms)

NoMethodError (undefined method `read_attribute_for_serialization' for #<Doorkeeper::OAuth::TokenResponse:0x0000000540c720>):
  app/controllers/users_controller.rb:17:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:47:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 409 Conflict in 21ms (Views: 6.8ms | ActiveRecord: 2.8ms)
  [1m[36mSQL (2.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (2.5ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:47:39 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$ZG42Ec2UJuUZDAgZgdoymeX7vOuaomizKukW0RPj.9PzE33n/hwoW"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.5ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'eee61c54b2021b8c5523da99961fb9dac54d376df43b80cc7a4024f70b8caf2d' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-07-27 21:47:39.418188"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "ad3a7639558a6aa1100f19ac097ce18374defc5324faf1505298d43fc20b9087"], ["uid", "eee61c54b2021b8c5523da99961fb9dac54d376df43b80cc7a4024f70b8caf2d"], ["updated_at", "2016-07-27 21:47:39.418188"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '2e7e89d8a1fd1268def6671f54e16de5251236ac529048c1d31583b186ced336' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (1.0ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '92baa2404a20f009ba1fa72856f88abd6da21e0424ba93f9925914064210fbe1' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-27 21:47:39.433145"], ["expires_in", 7200], ["refresh_token", "92baa2404a20f009ba1fa72856f88abd6da21e0424ba93f9925914064210fbe1"], ["resource_owner_id", 9], ["scopes", "public write preferences"], ["token", "2e7e89d8a1fd1268def6671f54e16de5251236ac529048c1d31583b186ced336"]]
  [1m[35m (0.6ms)[0m  COMMIT
[active_model_serializers] Rendered UserSerializer with Doorkeeper::OAuth::TokenResponse (0.35ms)
Completed 201 Created in 120ms (Views: 4.2ms | ActiveRecord: 12.8ms)
  [1m[36mSQL (1.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (2.4ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-28 00:49:05 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$bIkI9pFxVj0B4O5H6degN.WSodaD5H/BdVA7ZcqKxnGolwk6hywYW"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.6ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.6ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'd1e1a7f8aad3fa9475299bc42dad6a55779553825373b37302b03eaf6ab2f81a' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-07-27 21:49:05.706828"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "ec822a83105e6d45307e90633cf918e2e350b248174358ec58eb9105d4b4d3f2"], ["uid", "d1e1a7f8aad3fa9475299bc42dad6a55779553825373b37302b03eaf6ab2f81a"], ["updated_at", "2016-07-27 21:49:05.706828"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.6ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '036edf103b5956976cc8bf07a205a2fde45498f671a74edcbe170b4dec143fc3' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.6ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'ef21c682837bccf09d01a9f9baadafc7960a847d5f3b5c008ff9e53006e10738' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-27 21:49:05.722522"], ["expires_in", 7200], ["refresh_token", "ef21c682837bccf09d01a9f9baadafc7960a847d5f3b5c008ff9e53006e10738"], ["resource_owner_id", 10], ["scopes", "public write preferences"], ["token", "036edf103b5956976cc8bf07a205a2fde45498f671a74edcbe170b4dec143fc3"]]
  [1m[35m (0.9ms)[0m  COMMIT
[active_model_serializers] Rendered UserSerializer with Hash (0.3ms)
Completed 201 Created in 142ms (Views: 8.0ms | ActiveRecord: 20.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:15:07 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (43.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 409 Conflict in 11287ms (Views: 57.4ms | ActiveRecord: 2940.6ms)
  [1m[36mSQL (72.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (53.3ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:17:49 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (27.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (21.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$K/O4/3nZqE6WhiCK5Hc0ZeQq5bIHZESlmCbVQgik6wLHzny.Wp/2y"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'e2bf2877d05fbba745532f02d4c772a65130b6baa1e473360f20ea68dfe86324' LIMIT 1[0m
  [1m[35mSQL (23.4ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-29 20:17:49.774957"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "8a471a66a50449d913a939cc3e1f18a22a388bd3fabf7c6bb5c26347ab9b5e1b"], ["uid", "e2bf2877d05fbba745532f02d4c772a65130b6baa1e473360f20ea68dfe86324"], ["updated_at", "2016-07-29 20:17:49.774957"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (1.0ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '98527068b0acc2f0ed6e8cdff0d5f0f2eee26615cc2be9c79e1f890ab2e60bfa' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (29.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '080d36ce0152766a14de9801868e99c76b23a9a16e621a578f98f9014529739f' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-29 20:17:49.955932"], ["expires_in", 7200], ["refresh_token", "080d36ce0152766a14de9801868e99c76b23a9a16e621a578f98f9014529739f"], ["resource_owner_id", 11], ["scopes", "public write preferences"], ["token", "98527068b0acc2f0ed6e8cdff0d5f0f2eee26615cc2be9c79e1f890ab2e60bfa"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered UserSerializer with Hash (0.22ms)
Completed 201 Created in 509ms (Views: 8.7ms | ActiveRecord: 119.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:26:52 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 409 Conflict in 191ms (Views: 154.6ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:27:34 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJp@gmail.com", "first_name"=>"Hikarip", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarijp@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarijp@gmail.com' LIMIT 1[0m
  [1m[35mSQL (201.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarijp@gmail.com"], ["encrypted_password", "$2a$10$PPwV7/Tx4kuakIOaRcDpiOAV393hUlTkvOMImiVvTD6xaUfDDwLeq"], ["first_name", "Hikarip"], ["last_name", "Perlman"]]
  [1m[36m (30.8ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '41672e558ea303f51e2af43846e77c30d9cfa32f70782dd34f4bf7f2dfb2f32f' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'd3e0316728f6a64bb17ecfec3774b68b817d13116955b6595cec5ceab6c3ca6b' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-29 20:27:34.548042"], ["expires_in", 7200], ["refresh_token", "d3e0316728f6a64bb17ecfec3774b68b817d13116955b6595cec5ceab6c3ca6b"], ["resource_owner_id", 12], ["scopes", "public write preferences"], ["token", "41672e558ea303f51e2af43846e77c30d9cfa32f70782dd34f4bf7f2dfb2f32f"]]
  [1m[35m (0.6ms)[0m  COMMIT
[active_model_serializers] Rendered UserSerializer with Hash (0.11ms)
Completed 201 Created in 394ms (Views: 0.8ms | ActiveRecord: 235.2ms)
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:28:23 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$BFqdx3QSm1CnJ16X311UU.IhcSa.y5kFjMgAQap6FfL536GwsJKse"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.1ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'dce7768101759bc931c8b1cc144d44efb46a8cf508593cfd04cb1618b2057626' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.1ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '1947a6dac4914bf4358c377dd85e4a7b0b82e08103e784be565cb17e399cc3d7' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-29 20:28:23.899095"], ["expires_in", 7200], ["refresh_token", "1947a6dac4914bf4358c377dd85e4a7b0b82e08103e784be565cb17e399cc3d7"], ["resource_owner_id", 13], ["scopes", "public write preferences"], ["token", "dce7768101759bc931c8b1cc144d44efb46a8cf508593cfd04cb1618b2057626"]]
  [1m[35m (0.5ms)[0m  COMMIT
[active_model_serializers] Rendered UserSerializer with Hash (0.11ms)
Completed 201 Created in 81ms (Views: 0.6ms | ActiveRecord: 3.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:35:43 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (19.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 409 Conflict in 25ms (Views: 1.1ms | ActiveRecord: 19.2ms)
  [1m[36mSQL (51.2ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:36:01 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (17.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$.8Y3fg7CPFR5x7enYN2rFOOBAvSxDPY2PDDr9k29HmoaDNX.jQoYC"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'f61889883780029b7f0e44786d80de9863f24c6c57d33750ad439c22e1652414' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'c63b5434cd0b22254bc5db6decd9a053d60561ccc899a20b6def12efcd308f08' LIMIT 1[0m
  [1m[35mSQL (28.7ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-29 20:36:01.531482"], ["expires_in", 7200], ["refresh_token", "c63b5434cd0b22254bc5db6decd9a053d60561ccc899a20b6def12efcd308f08"], ["resource_owner_id", 14], ["scopes", "public write preferences"], ["token", "f61889883780029b7f0e44786d80de9863f24c6c57d33750ad439c22e1652414"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered UserSerializer with Hash (0.25ms)
Completed 201 Created in 135ms (Views: 1.8ms | ActiveRecord: 51.3ms)


Started POST "/users" for 127.0.0.1 at 2016-07-29 23:36:16 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 409 Conflict in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35mSQL (181.1ms)[0m  DELETE FROM "users"


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:28:09 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (20.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$c.Id2g89PYxDpbDRLbiLJ.FvNY0zjlu4mAZK5AvssJPKysgVq4FaC"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'aee93cb42f3166b152c66b26e3e91cbf5d1be04e583386c0ab0fd593441ed3a2' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '0a2340611a1ce09946a753fb5d4240404d838f20b70e1f2624a88d7eb1c0d9d7' LIMIT 1
  [1m[36mSQL (27.8ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-29 23:28:12.692319"], ["expires_in", 7200], ["refresh_token", "0a2340611a1ce09946a753fb5d4240404d838f20b70e1f2624a88d7eb1c0d9d7"], ["resource_owner_id", 15], ["scopes", "public write preferences"], ["token", "aee93cb42f3166b152c66b26e3e91cbf5d1be04e583386c0ab0fd593441ed3a2"]]
  [1m[35m (14.2ms)[0m  COMMIT
[active_model_serializers] Rendered UserSerializer with Hash (44.92ms)
Completed 201 Created in 451ms (Views: 51.1ms | ActiveRecord: 185.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:28:22 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (29.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 409 Conflict in 34ms (Views: 1.7ms | ActiveRecord: 29.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:29:03 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 409 Conflict in 47ms (Views: 8.4ms | ActiveRecord: 2.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:30:05 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 409 Conflict in 15ms (Views: 5.8ms | ActiveRecord: 1.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:34:31 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 200 OK in 27ms (Views: 8.3ms | ActiveRecord: 2.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:42:59 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (16.98ms)
Completed 409 Conflict in 137ms (Views: 24.8ms | ActiveRecord: 101.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:44:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
Completed 409 Conflict in 33ms (Views: 8.8ms | ActiveRecord: 5.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:45:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
Completed 409 Conflict in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 02:48:45 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 17ms (Views: 5.8ms | ActiveRecord: 3.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 11:56:29 +0300
  [1m[36mActiveRecord::SchemaMigration Load (78.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (64.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 409 Conflict in 468ms (Views: 97.6ms | ActiveRecord: 192.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 15:48:33 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (111.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (210.08ms)
Completed 409 Conflict in 4208ms (Views: 561.0ms | ActiveRecord: 111.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 15:50:31 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.34ms)
Completed 409 Conflict in 17ms (Views: 2.2ms | ActiveRecord: 1.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 15:52:45 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 409 Conflict in 26ms (Views: 2.0ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 15:56:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (33.5ms)
Completed 409 Conflict in 390ms (Views: 40.3ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 15:59:38 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 409 Conflict in 5ms (Views: 1.7ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:02:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 409 Conflict in 25ms (Views: 4.0ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:03:38 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 409 Conflict in 29ms (Views: 22.7ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:06:32 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.17ms)
Completed 409 Conflict in 74ms (Views: 33.0ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:11:18 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 409 Conflict in 72ms (Views: 43.8ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:14:38 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.41ms)
Completed 409 Conflict in 29ms (Views: 10.5ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:27:53 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (43.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 409 Conflict in 366ms (Views: 75.3ms | ActiveRecord: 43.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:31:51 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 409 Conflict in 139ms (Views: 51.3ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:34:36 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 409 Conflict in 166ms (Views: 112.6ms | ActiveRecord: 1.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:36:46 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 409 Conflict in 423ms (Views: 371.6ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:39:21 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 409 Conflict in 154ms (Views: 43.8ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:42:15 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 409 Conflict in 236ms (Views: 108.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:44:03 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 135ms (Views: 33.6ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:45:03 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (20.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (16.03ms)
Completed 409 Conflict in 296ms (Views: 96.8ms | ActiveRecord: 20.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:48:33 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (29.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.4ms)
Completed 409 Conflict in 122ms (Views: 7.2ms | ActiveRecord: 29.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:48:42 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 130ms (Views: 48.3ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:48:46 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (14.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 409 Conflict in 155ms (Views: 52.6ms | ActiveRecord: 14.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:52:54 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 409 Conflict in 198ms (Views: 53.1ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:54:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.21ms)
Completed 409 Conflict in 313ms (Views: 146.7ms | ActiveRecord: 1.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 16:57:35 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 409 Conflict in 367ms (Views: 1.7ms | ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:11:14 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 409 Conflict in 18ms (Views: 14.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:14:45 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (48.53ms)
Completed 409 Conflict in 1924ms (Views: 355.8ms | ActiveRecord: 822.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:15:16 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 409 Conflict in 51ms (Views: 20.4ms | ActiveRecord: 6.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:17:06 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 409 Conflict in 13ms (Views: 4.1ms | ActiveRecord: 1.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:17:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 409 Conflict in 3ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:17:41 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 409 Conflict in 22ms (Views: 7.3ms | ActiveRecord: 2.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:17:57 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 409 Conflict in 17ms (Views: 5.8ms | ActiveRecord: 2.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:17:59 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 409 Conflict in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:20:09 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 409 Conflict in 25ms (Views: 6.4ms | ActiveRecord: 3.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:25:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 409 Conflict in 21ms (Views: 5.9ms | ActiveRecord: 4.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:33:12 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (23.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.3ms)
Completed 409 Conflict in 27ms (Views: 1.2ms | ActiveRecord: 23.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:38:02 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 409 Conflict in 6ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:38:32 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 4ms (Views: 1.0ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:38:34 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 409 Conflict in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:38:35 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 409 Conflict in 4ms (Views: 1.4ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:38:55 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 409 Conflict in 4ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:38:59 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 409 Conflict in 74ms (Views: 1.3ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:39:06 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 409 Conflict in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:40:07 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 409 Conflict in 5ms (Views: 1.2ms | ActiveRecord: 1.1ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:43:52 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:44:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 409 Conflict in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:51:05 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 409 Conflict in 4ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 17:51:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.45ms)
Completed 409 Conflict in 7ms (Views: 2.8ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 18:02:39 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (24.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
  [1m[36mSQL (239.1ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij1@gmail.com"], ["encrypted_password", "$2a$10$Lx/I.LOc4peUSrDdqPAJMOWemtaIgK2JtrhDG2MjFSx/5KJLNDWnq"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (109.2ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (119.9ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (57.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (42.9ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '73a6986bc92c9c362d2d802728de7a081de959a3e9673f46a1e4e46cb1eb90e4' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (6.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '5b2f38aa0127df6de8e4054063dd829d40f8ac6c06aafb83822ca6d9c681d9e8' LIMIT 1[0m
  [1m[35mSQL (62.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-30 15:02:47.501751"], ["expires_in", 7200], ["refresh_token", "5b2f38aa0127df6de8e4054063dd829d40f8ac6c06aafb83822ca6d9c681d9e8"], ["resource_owner_id", 16], ["scopes", "public write preferences"], ["token", "73a6986bc92c9c362d2d802728de7a081de959a3e9673f46a1e4e46cb1eb90e4"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.8ms)
Completed 201 Created in 7950ms (Views: 2.3ms | ActiveRecord: 898.6ms)
  [1m[36mDoorkeeper::Application Load (50.2ms)[0m  [1mSELECT "oauth_applications".* FROM "oauth_applications"[0m
  [1m[35mSQL (89.0ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (40.4ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-30 22:47:59 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (32.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (24.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (19.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$EqKNZ.7tXMINAJQbkr./V.poSFOvqtfis4aHXqMmkNs/U7of89Ji."], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (55.8ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '581be260862444d8d4c852a8bb69eaba328b136f1a204cf56fd9ed5ef6a09d9f' LIMIT 1[0m
  [1m[35mSQL (77.8ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-30 19:48:13.516150"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "e0688276bad2c5ce5ae5c36266284ea13346a2d66f872a94ba3ab8a0258b736a"], ["uid", "581be260862444d8d4c852a8bb69eaba328b136f1a204cf56fd9ed5ef6a09d9f"], ["updated_at", "2016-07-30 19:48:13.516150"]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (22.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '2dc4da10ab17fc5ab30dfd7cb56ae4e2723de64fb167776355d7679cfe976bdc' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '98a6706b16ea7896b082d15bd66ae4cb5651cc208e7292ef62d2257a75de220b' LIMIT 1[0m
  [1m[35mSQL (16.8ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-30 19:48:13.962528"], ["expires_in", 7200], ["refresh_token", "98a6706b16ea7896b082d15bd66ae4cb5651cc208e7292ef62d2257a75de220b"], ["resource_owner_id", 17], ["scopes", "public write preferences"], ["token", "2dc4da10ab17fc5ab30dfd7cb56ae4e2723de64fb167776355d7679cfe976bdc"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (162.85ms)
Completed 201 Created in 9205ms (Views: 513.7ms | ActiveRecord: 253.7ms)
  [1m[36mSQL (40.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:01:47 +0300
  [1m[36mActiveRecord::SchemaMigration Load (31.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (52.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (57.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$GnczpedtAJuamfPCWV/n3OatvGsYAQ3LAGsTpBWQL4P113qeA.fGq"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '7765bc22c411b4b42d87adfecd61932dbf368cb65fcac73e462c4337b380ed69' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-30 20:01:49.089132"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "0fbbcb66a38fb25801a0a637ce96d6cdf8a08dd95eeb4ed44c1fd54565b0145c"], ["uid", "7765bc22c411b4b42d87adfecd61932dbf368cb65fcac73e462c4337b380ed69"], ["updated_at", "2016-07-30 20:01:49.089132"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (25.1ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '7f21f421ee2fc7b9b185029330bd9206ecc928df3e1172f24754a3079abdc9b4' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'd45951a2b729405da83a41453842c01536f3b8d7eee337e0688cd4b2ce8b421a' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-30 20:01:49.202790"], ["expires_in", 7200], ["refresh_token", "d45951a2b729405da83a41453842c01536f3b8d7eee337e0688cd4b2ce8b421a"], ["resource_owner_id", 18], ["scopes", "public write preferences"], ["token", "7f21f421ee2fc7b9b185029330bd9206ecc928df3e1172f24754a3079abdc9b4"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.48ms)
Completed 201 Created in 705ms (Views: 101.7ms | ActiveRecord: 143.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:05:19 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 14ms (Views: 5.2ms | ActiveRecord: 1.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:08:05 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 409 Conflict in 22ms (Views: 8.1ms | ActiveRecord: 2.2ms)
  [1m[36mSQL (2.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (2.3ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:08:21 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$8QHA4mqdZr8BRmpv2mdhpO02dx35w/6ohUgJQB1Slw7ieCR85cdFi"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '5b256c83b8124ca1e5ccd33186528df508a8491baf5da8af310ccf515d40a1af' LIMIT 1[0m
  [1m[35mSQL (21.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-30 20:08:22.003510"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "039e562ab6cfc174863dc707f854b9bdd1d950245e00c6b02142176404ad84e7"], ["uid", "5b256c83b8124ca1e5ccd33186528df508a8491baf5da8af310ccf515d40a1af"], ["updated_at", "2016-07-30 20:08:22.003510"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '63370384e679ee4ff926f811b5fbb5559e2a3e63355393fb6d5a913f64234d18' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '1664a6025f5f18f749dd1f817dc1b000695c98a7ddf6c99b260b4d04c77e9a9b' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-30 20:08:22.034275"], ["expires_in", 7200], ["refresh_token", "1664a6025f5f18f749dd1f817dc1b000695c98a7ddf6c99b260b4d04c77e9a9b"], ["resource_owner_id", 19], ["scopes", "public write preferences"], ["token", "63370384e679ee4ff926f811b5fbb5559e2a3e63355393fb6d5a913f64234d18"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.39ms)
Completed 201 Created in 125ms (Views: 1.1ms | ActiveRecord: 31.8ms)
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "oauth_applications"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (2.2ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:10:59 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$NeTuq3ZJqiW9/ALrQOUw2.UpvvS5OWqgbrgArRSO43CktIHrqGMnG"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '14061147791bd276d25aecda48ede25bded7441b2f128201a9aeec342db4e19d' LIMIT 1[0m
  [1m[35mSQL (28.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-07-30 20:10:59.758043"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "e43382ccfae33aa5e976a3a2bfc7586e436eaaa8874888b54e0b8359bba97747"], ["uid", "14061147791bd276d25aecda48ede25bded7441b2f128201a9aeec342db4e19d"], ["updated_at", "2016-07-30 20:10:59.758043"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'fab098a01008a3247b82e250b678de12fb5da1ecc8b5db97dfbe69562ad090e8' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '8e54072a4c636a664551bbf3267114f213dde82f30155e76bd81f30781be882c' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-30 20:10:59.793250"], ["expires_in", 7200], ["refresh_token", "8e54072a4c636a664551bbf3267114f213dde82f30155e76bd81f30781be882c"], ["resource_owner_id", 20], ["scopes", "public write preferences"], ["token", "fab098a01008a3247b82e250b678de12fb5da1ecc8b5db97dfbe69562ad090e8"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.46ms)
Completed 201 Created in 124ms (Views: 1.8ms | ActiveRecord: 34.7ms)


Started GET "/users/email_exists/email=HikariJ@gmail.com" for 127.0.0.1 at 2016-07-30 23:44:08 +0300

ActionController::RoutingError (No route matches [GET] "/users/email_exists/email=HikariJ@gmail.com"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (7.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (139.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (498.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-30 23:45:57 +0300
Error occurred while parsing request parameters.
Contents:

HikariJ@gmail.com

ActionDispatch::ParamsParser::ParseError (795: unexpected token at 'HikariJ@gmail.com'):
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:23:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (22.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (33.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-30 23:48:38 +0300

ActionController::RoutingError (No route matches [POST] "/users/email_exists"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (41.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:49:42 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 709ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email_exists?' for #<Class:0x007fe0645d3170>):
  app/controllers/users_controller.rb:5:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (49.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-30 23:50:09 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email_exists?' for #<Class:0x000000060f1a58>):
  app/controllers/users_controller.rb:5:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-30 23:53:00 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 84ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email_exists?' for #<Class:0x000000060f1a58>):
  app/controllers/users_controller.rb:27:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-30 23:56:08 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `find_by_email' for #<UsersController:0x007fe064760ad8>):
  app/controllers/users_controller.rb:34:in `email_exists?'
  app/controllers/users_controller.rb:27:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-30 23:58:10 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (95.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 144ms (Views: 8.1ms | ActiveRecord: 98.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:26:30 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 200 OK in 12ms (Views: 5.4ms | ActiveRecord: 2.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:27:22 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (65.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 89ms (Views: 1.1ms | ActiveRecord: 83.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:27:29 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 1.0ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:32:17 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:32:22 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:32:25 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:33:10 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:33:32 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:34:23 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:42:04 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (36.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (13.33ms)
Completed 200 OK in 82ms (Views: 24.1ms | ActiveRecord: 36.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-31 00:42:30 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (68.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (39.8ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (26.8ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'b8714290bd917a96efb900f16df8015dc5206f8ff07d60029c2f2c01b51d061a' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'e7ddbba09676281a30b26c0832d414a7770cc1bbdce76b65800463a6330f8c12' LIMIT 1[0m
  [1m[35mSQL (53.1ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-07-30 21:42:35.094560"], ["expires_in", 7200], ["refresh_token", "e7ddbba09676281a30b26c0832d414a7770cc1bbdce76b65800463a6330f8c12"], ["scopes", "public write preferences"], ["token", "b8714290bd917a96efb900f16df8015dc5206f8ff07d60029c2f2c01b51d061a"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.4ms)
Completed 201 Created in 4425ms (Views: 1.3ms | ActiveRecord: 272.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:43:07 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:43:13 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:43:32 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'HikariJ@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (19.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mSQL (9.4ms)[0m  DELETE FROM "users"


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:48:21 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 33ms (Views: 5.8ms | ActiveRecord: 20.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:48:30 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-31 00:48:52 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (17.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$tLhFRQZ7y64giAM9uKNN1uR8Ns7d6dgVZuC6MIMdjc1Yr9g0bo.B2"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.6ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '0f167e5eb5154eff23f59e2262deb02864b37290c9256ca7c98e6ba4e66577c4' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'bd8a24a41e8809dc3990348f91621727cdfc5d971cd803fcbdbb0e6da5e74571' LIMIT 1
  [1m[36mSQL (16.3ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-07-30 21:48:52.751227"], ["expires_in", 7200], ["refresh_token", "bd8a24a41e8809dc3990348f91621727cdfc5d971cd803fcbdbb0e6da5e74571"], ["resource_owner_id", 21], ["scopes", "public write preferences"], ["token", "0f167e5eb5154eff23f59e2262deb02864b37290c9256ca7c98e6ba4e66577c4"]]
  [1m[35m (0.7ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.34ms)
Completed 201 Created in 179ms (Views: 1.2ms | ActiveRecord: 40.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:49:08 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 409 Conflict in 7ms (Views: 1.1ms | ActiveRecord: 0.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 00:49:19 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 409 Conflict in 9ms (Views: 3.5ms | ActiveRecord: 0.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 12:42:38 +0300
  [1m[36mActiveRecord::SchemaMigration Load (81.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (79.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.5ms)
Completed 409 Conflict in 537ms (Views: 68.8ms | ActiveRecord: 208.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-07-31 12:42:42 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 14:44:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (109.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (98.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 409 Conflict in 520ms (Views: 70.3ms | ActiveRecord: 227.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 14:44:17 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2016-08-01 14:44:24 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (26.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
  [1m[36mSQL (38.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij1@gmail.com"], ["encrypted_password", "$2a$10$iH9R25MjIrH.HHbNGeh.ge3JJYtpivSLS7AR/DBfCF.VEb2pnB3mu"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (62.5ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (71.0ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (14.8ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '58e2a0008e4f1dee9e3fa25c6d9f972f04e4cd578ac61ce4be01ab1370422931' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (5.1ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '9ea6fd39beae7a33b053ca8de85dc04eef9d740c5b2cfb514614e79c6bcf72bc' LIMIT 1[0m
  [1m[35mSQL (35.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-08-01 11:44:24.646719"], ["expires_in", 7200], ["refresh_token", "9ea6fd39beae7a33b053ca8de85dc04eef9d740c5b2cfb514614e79c6bcf72bc"], ["resource_owner_id", 22], ["scopes", "public write preferences"], ["token", "58e2a0008e4f1dee9e3fa25c6d9f972f04e4cd578ac61ce4be01ab1370422931"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 201 Created in 525ms (Views: 1.2ms | ActiveRecord: 259.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:00:28 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (15.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (39.77ms)
Completed 409 Conflict in 59ms (Views: 40.8ms | ActiveRecord: 15.0ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:38 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 409 Conflict in 3ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:42 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 409 Conflict in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:45 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 409 Conflict in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:47 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 409 Conflict in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:49 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 409 Conflict in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:51 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 409 Conflict in 4ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:56 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 409 Conflict in 6ms (Views: 2.3ms | ActiveRecord: 0.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:10:58 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 409 Conflict in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:11:00 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 409 Conflict in 3ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 15:11:03 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ21@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij21@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:34:28 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.35ms)
Completed 409 Conflict in 13ms (Views: 2.2ms | ActiveRecord: 1.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:34:32 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 409 Conflict in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:34:34 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 409 Conflict in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:34:36 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 409 Conflict in 4ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:49:15 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:49:18 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 409 Conflict in 8ms (Views: 1.9ms | ActiveRecord: 0.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:49:24 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ32432@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij32432@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:49:28 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ32432@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij32432@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:51:17 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 409 Conflict in 7ms (Views: 2.2ms | ActiveRecord: 0.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:55:54 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 409 Conflict in 4ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 17:56:41 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ1@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij1@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 409 Conflict in 5ms (Views: 1.4ms | ActiveRecord: 1.0ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-01 18:00:25 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:14:07 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.42ms)
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:14:08 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 1.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:14:09 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:15:11 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>""}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[36mSQL (194.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (80.9ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:36:57 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 200 OK in 313ms (Views: 37.3ms | ActiveRecord: 124.9ms)
  [1m[36mSQL (54.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:41:22 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (37.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 43ms (Views: 0.9ms | ActiveRecord: 37.8ms)
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:45:51 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-06 23:56:01 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 1.0ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 00:25:31 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (23.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 29ms (Views: 1.4ms | ActiveRecord: 23.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 00:27:46 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 00:30:31 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"HikariJ@gmail.com"}
Can't verify CSRF token authenticity
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 14ms (Views: 1.0ms | ActiveRecord: 1.2ms)


Started POST "/users" for 127.0.0.1 at 2016-08-07 00:30:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"email"=>"HikariJ@gmail.com", "first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35m (22.9ms)[0m  BEGIN
  [1m[36mUser Exists (54.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@gmail.com' LIMIT 1[0m
  [1m[35mSQL (59.7ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@gmail.com"], ["encrypted_password", "$2a$10$XIt9iLrGjobcpiM8kc4pZOh8N2MWXNkgvFJXU9DyZqXpkxKlZ47bm"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (43.9ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (3.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (53.9ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'bced5726d88a7430ac4bcd6ebf335b5a56b1108b4eca493746b9fa4f7772fc4b' LIMIT 1
  [1m[36mSQL (90.3ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-08-06 21:30:46.737395"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "adc2d6baba34e37cb41afe1c38144de47e155cab71675bad6e4eac5d543a1abc"], ["uid", "bced5726d88a7430ac4bcd6ebf335b5a56b1108b4eca493746b9fa4f7772fc4b"], ["updated_at", "2016-08-06 21:30:46.737395"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.9ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (23.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'f4599758d3cc12665786706abe3e0632ba27aa0abc013faaa9c321aa0cddc529' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (3.0ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'c334574f465cb3cdcaa962db70afb61d34de27e49ba8d98902be91d5a851345f' LIMIT 1
  [1m[36mSQL (45.7ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-08-06 21:30:47.266274"], ["expires_in", 7200], ["refresh_token", "c334574f465cb3cdcaa962db70afb61d34de27e49ba8d98902be91d5a851345f"], ["resource_owner_id", 23], ["scopes", "public write preferences"], ["token", "f4599758d3cc12665786706abe3e0632ba27aa0abc013faaa9c321aa0cddc529"]]
  [1m[35m (0.5ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.43ms)
Completed 201 Created in 3278ms (Views: 1.0ms | ActiveRecord: 671.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:27:20 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1508ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (281.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (658.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (585.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (3244.1ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:28:27 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (53.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (43.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (42.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (241.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:28:30 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (12.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (21.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (105.1ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:29:02 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (29.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7523.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7576.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:29:55 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (28.0ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:29:58 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:30:22 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (12.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (35.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (59.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (200.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:30:25 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:30:41 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"email"=>"ds43sds45r3242"}
Can't verify CSRF token authenticity
  [1m[36mUser Load (271.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'ds43sds45r3242' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (21.64ms)
Completed 200 OK in 603ms (Views: 106.3ms | ActiveRecord: 271.5ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:33:23 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:33:32 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-07 16:37:14 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `downcase' for nil:NilClass):
  app/controllers/users_controller.rb:40:in `email_exists?'
  app/controllers/users_controller.rb:26:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (24.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (26.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (62.7ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:15:18 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
  [1m[35mUser Load (51.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '@{domain}' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 200 OK in 2132ms (Views: 61.1ms | ActiveRecord: 1687.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:16:39 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '@{domain}' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:16:45 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '@{domain}' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:17:37 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 180142ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (86.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:21:31 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 102882ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (38.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:25:44 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 126025ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (21.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (59.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:27:52 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 2396ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (22.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (81.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:28:11 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 88086ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (14.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (44.0ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:29:46 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"123"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 9059ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (59.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:35:32 +0300
Processing by UsersController#email_exists as HTML
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 18352ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (21.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (57.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 11:41:57 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"11"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 2129356ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (20.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (18.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (107.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 12:32:05 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"123"}
Can't verify CSRF token authenticity
Completed 500 Internal Server Error in 15716ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/users_controller.rb:29:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (15.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (59.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (14.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (163.4ms)
  [1m[36mSQL (134.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (59.2ms)[0m  DELETE FROM "oauth_applications"


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 13:49:34 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)

NameError (undefined local variable or method `cookies' for #<UsersController:0x007f84e02af6e0>):
  angular_rails_csrf (1.0.4) lib/angular_rails_csrf/concern.rb:10:in `set_xsrf_token_cookie'
  activesupport (4.1.12) lib/active_support/callbacks.rb:429:in `block in make_lambda'
  activesupport (4.1.12) lib/active_support/callbacks.rb:161:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:161:in `block in halting'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `each'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (31.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (47.3ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 13:49:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)

NameError (undefined local variable or method `cookies' for #<UsersController:0x007f84e05b30f8>):
  angular_rails_csrf (1.0.4) lib/angular_rails_csrf/concern.rb:10:in `set_xsrf_token_cookie'
  activesupport (4.1.12) lib/active_support/callbacks.rb:429:in `block in make_lambda'
  activesupport (4.1.12) lib/active_support/callbacks.rb:161:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:161:in `block in halting'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `each'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.8ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 13:49:53 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NameError (undefined local variable or method `cookies' for #<UsersController:0x007f84e08b6e08>):
  angular_rails_csrf (1.0.4) lib/angular_rails_csrf/concern.rb:10:in `set_xsrf_token_cookie'
  activesupport (4.1.12) lib/active_support/callbacks.rb:429:in `block in make_lambda'
  activesupport (4.1.12) lib/active_support/callbacks.rb:161:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:161:in `block in halting'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `each'
  activesupport (4.1.12) lib/active_support/callbacks.rb:501:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/mapper.rb:45:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (27.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (45.7ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 13:56:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/users_controller.rb:42:in `email_exists?'
  app/controllers/users_controller.rb:8:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.5ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 13:58:43 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@{domain}' LIMIT 1
Completed 500 Internal Server Error in 150ms (ActiveRecord: 30.1ms)

ActiveRecord::UnknownAttributeError (unknown attribute: username):
  app/controllers/users_controller.rb:14:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.6ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 13:59:24 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@{domain}' LIMIT 1[0m
Completed 500 Internal Server Error in 79ms (ActiveRecord: 2.3ms)

ActiveRecord::UnknownAttributeError (unknown attribute: username):
  app/controllers/users_controller.rb:14:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mDoorkeeper::Application Load (0.5ms)[0m  SELECT "oauth_applications".* FROM "oauth_applications"


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:02:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@{domain}' LIMIT 1
Unpermitted parameters: username
Unpermitted parameters: username
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.6ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (36.0ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '15ac8f45fbeb47b528768dd885b6554ab47fd343296402c86a87f03536a4a358' LIMIT 1[0m
  [1m[35mSQL (119.0ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-08-08 11:02:26.782987"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "8f846c25fbd1103b2143845414fbb13f9f6c5852cbc2851d3731735350dec82f"], ["uid", "15ac8f45fbeb47b528768dd885b6554ab47fd343296402c86a87f03536a4a358"], ["updated_at", "2016-08-08 11:02:26.782987"]]
  [1m[36m (13.7ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 646ms (ActiveRecord: 174.0ms)

NoMethodError (undefined method `token' for nil:NilClass):
  app/controllers/users_controller.rb:21:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.3ms)
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT "oauth_applications".* FROM "oauth_applications"[0m
  [1m[35mSQL (1.9ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:04:02 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@{domain}' LIMIT 1
Unpermitted parameters: username
Unpermitted parameters: username
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'f88d2870c410635374fd0cd03c625c17f59c6753997742886a53cd3bbea6166d' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-08-08 11:04:02.885177"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "fc6b9dab0f64d3cc1054cfd5687b72fa7fc8abe0c41b3b5bc4f29a1969ab5176"], ["uid", "f88d2870c410635374fd0cd03c625c17f59c6753997742886a53cd3bbea6166d"], ["updated_at", "2016-08-08 11:04:02.885177"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (49.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'd9cdaf272ec6a69a93ebc6af15776a64d2c1292bb3f8e3d25cdb34298dc7794d' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'e98725ba278a59943c79dad9eb021780318108b9bfa467a2ed35c11939fe7afe' LIMIT 1[0m
  [1m[35mSQL (53.5ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-08-08 11:04:03.037964"], ["expires_in", 7200], ["refresh_token", "e98725ba278a59943c79dad9eb021780318108b9bfa467a2ed35c11939fe7afe"], ["scopes", "public write preferences"], ["token", "d9cdaf272ec6a69a93ebc6af15776a64d2c1292bb3f8e3d25cdb34298dc7794d"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 13860ms (ActiveRecord: 143.1ms)

SystemExit (exit):
  app/controllers/users_controller.rb:21:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (17.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (50.2ms)
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users"
  [1m[36mSQL (2.1ms)[0m  [1mDELETE FROM "oauth_applications"[0m


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:04:55 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@{domain}' LIMIT 1
Unpermitted parameters: username
Unpermitted parameters: username
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.8ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '9860aab0fb25b2e5d59ac9f75bb082654cd82faf1fff2c727d8c3d15c3516d3a' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-08-08 11:04:56.532729"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "e47b9c4faa6d57a229341d703e1a961d303a13d1b48b14731024df0dff8790fa"], ["uid", "9860aab0fb25b2e5d59ac9f75bb082654cd82faf1fff2c727d8c3d15c3516d3a"], ["updated_at", "2016-08-08 11:04:56.532729"]]
  [1m[36m (13.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (7.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.9ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.8ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'cded31c644218342b6a58565f86822c4a8d43db0c08f5be9707cf6244e8db6f7' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '316027986cbf1a9acb2ca0de475a79b458a9d902474f2b812dbbe3d8e537e967' LIMIT 1[0m
  [1m[35mSQL (17.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-08-08 11:04:56.617158"], ["expires_in", 7200], ["refresh_token", "316027986cbf1a9acb2ca0de475a79b458a9d902474f2b812dbbe3d8e537e967"], ["scopes", "public write preferences"], ["token", "cded31c644218342b6a58565f86822c4a8d43db0c08f5be9707cf6244e8db6f7"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.42ms)
Completed 201 Created in 388ms (Views: 55.8ms | ActiveRecord: 53.6ms)
  [1m[35mSQL (2.3ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "oauth_applications"[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 14:13:15 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"123"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '123@mainonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.59ms)
Completed 200 OK in 56ms (Views: 32.8ms | ActiveRecord: 3.9ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:13:22 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"123"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '123@{domain}' LIMIT 1[0m
Unpermitted parameters: username
Unpermitted parameters: username
Completed 500 Internal Server Error in 571282ms (ActiveRecord: 0.7ms)

SystemExit (exit):
  app/controllers/users_controller.rb:16:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (19.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (52.3ms)
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users"[0m


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:32:31 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"123"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = '123@{domain}' LIMIT 1
Unpermitted parameters: username
Completed 500 Internal Server Error in 18822ms (ActiveRecord: 7.9ms)

SystemExit (exit):
  app/controllers/users_controller.rb:16:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (13.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (41.9ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:33:19 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"123"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = '123@{domain}' LIMIT 1[0m
Unpermitted parameters: username
Completed 500 Internal Server Error in 104148ms (ActiveRecord: 0.5ms)

SystemExit (exit):
  app/controllers/users_controller.rb:16:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (40.1ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 14:36:15 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 200 OK in 92ms (Views: 34.2ms | ActiveRecord: 4.1ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:36:29 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
Unpermitted parameters: username
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
  [1m[35mSQL (44.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@mainonrails.com"], ["encrypted_password", "$2a$10$R13fyumNytGZhaN28ip0v.iI4GtgDqYsiidLr.ik/.OzPX.Ii0ogW"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.5ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '12c4f826a6c7f4aeaa3c5c38d578f1c9f995877bef0ae5305e5765261209a8f4' LIMIT 1
  [1m[36mSQL (5.2ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-08-08 11:36:30.284156"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "1496d16992c85a8179b4b232b4075da99cde20250dd1a748023841b5ac6da1ad"], ["uid", "12c4f826a6c7f4aeaa3c5c38d578f1c9f995877bef0ae5305e5765261209a8f4"], ["updated_at", "2016-08-08 11:36:30.284156"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '1be598c6afe174a3e9fd823bc3739878c270d71339669990c1901248fb710b82' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'd128050e78209f2db72d132dfd8beb4808c6fe9ad1a985054b07025c95701bef' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-08-08 11:36:30.347937"], ["expires_in", 7200], ["refresh_token", "d128050e78209f2db72d132dfd8beb4808c6fe9ad1a985054b07025c95701bef"], ["resource_owner_id", 24], ["scopes", "public write preferences"], ["token", "1be598c6afe174a3e9fd823bc3739878c270d71339669990c1901248fb710b82"]]
  [1m[35m (1.2ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.38ms)
Completed 201 Created in 741ms (Views: 1.3ms | ActiveRecord: 62.3ms)
  [1m[35mUser Load (23.9ms)[0m  SELECT "users".* FROM "users"
  [1m[36mSQL (109.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mSQL (19.7ms)[0m  DELETE FROM "oauth_applications"
  [1m[36mSQL (151.6ms)[0m  [1mDELETE FROM "oauth_applications"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users"


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 14:55:42 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 200 OK in 109ms (Views: 10.5ms | ActiveRecord: 93.9ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 14:55:50 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (38.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1
  [1m[36mSQL (29.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@mainonrails.com"], ["encrypted_password", "$2a$10$tnBw1B15HX6DIPUDB/GrROr9U8OFbgeBaaNt0yPmgYdLAnjdBAz5W"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (62.1ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'e68a9096a116339db28a284e63e4eaa57d19ab5dc1de68147eb8b8275d98ac55' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-08-08 11:55:50.325774"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "0572feba1b00079a031ad667f7afd3a1f55ae5a26d2b82136a5dac0759c800a0"], ["uid", "e68a9096a116339db28a284e63e4eaa57d19ab5dc1de68147eb8b8275d98ac55"], ["updated_at", "2016-08-08 11:55:50.325774"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'f2c38cae6e78d5685fae33038fbe9972b68c020f27e6a1ebbfc0f17abe899a87' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'ee4902807909ed8012f4d5b17d2495466f1d1f797b1d2a4172773e67612a877f' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-08-08 11:55:50.334942"], ["expires_in", 7200], ["refresh_token", "ee4902807909ed8012f4d5b17d2495466f1d1f797b1d2a4172773e67612a877f"], ["resource_owner_id", 25], ["scopes", "public write preferences"], ["token", "f2c38cae6e78d5685fae33038fbe9972b68c020f27e6a1ebbfc0f17abe899a87"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 201 Created in 262ms (Views: 1.2ms | ActiveRecord: 138.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT "oauth_applications".* FROM "oauth_applications"


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:46:43 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"user@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 199ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:47:27 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mailonrails.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 1ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:52:42 +0300
  [1m[36mActiveRecord::SchemaMigration Load (4.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mailonrails.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 69272ms

SystemExit (exit):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (22.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (103.4ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:53:52 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mailonrails.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1761ms

SystemExit (exit):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (33.3ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:53:58 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mailonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (4.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1
Completed 401 Unauthorized in 11825ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:56:10 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mailonrails.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 4125ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:56:32 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mailonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 500 Internal Server Error in 102575ms

SystemExit (exit):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (14.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (39.4ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:58:33 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 29591ms

SystemExit (exit):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (40.3ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-08 22:59:08 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Load (66.9ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 25 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '8bfda5b1919e323db420c5f8399651f72a1d36ec1508a76302d8784d4470eaca' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '6654ed65a2db4fc86061dcd6e58cf87ddcc793c18dc409518d8a365cc646e271' LIMIT 1[0m
  [1m[35mSQL (70.2ms)[0m  INSERT INTO "oauth_access_tokens" ("created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-08-08 19:59:15.885231"], ["expires_in", 7200], ["refresh_token", "6654ed65a2db4fc86061dcd6e58cf87ddcc793c18dc409518d8a365cc646e271"], ["resource_owner_id", 25], ["scopes", ""], ["token", "8bfda5b1919e323db420c5f8399651f72a1d36ec1508a76302d8784d4470eaca"]]
  [1m[36m (29.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 7011ms
  [1m[36m (142.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (116.5ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (295.3ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (323.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (15.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (46.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.7ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (5.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (29.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (3.4ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (35.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35mSQL (0.3ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (25.1ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (9.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.9ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 20:16:56.820799"], ["type_name", "inbox"], ["updated_at", "2016-08-08 20:16:56.820799"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 20:16:56.824858"], ["type_name", "sent"], ["updated_at", "2016-08-08 20:16:56.824858"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 20:16:56.827523"], ["type_name", "drafts"], ["updated_at", "2016-08-08 20:16:56.827523"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 20:16:56.829641"], ["type_name", "trash"], ["updated_at", "2016-08-08 20:16:56.829641"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 20:16:56.831876"], ["type_name", "spam"], ["updated_at", "2016-08-08 20:16:56.831876"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (105.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (135.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (312.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (280.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.9ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.8ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (4.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35mSQL (0.6ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (9.6ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.0ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.1ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 20:17:10.927248"], ["type_name", "inbox"], ["updated_at", "2016-08-08 20:17:10.927248"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 20:17:10.931021"], ["type_name", "sent"], ["updated_at", "2016-08-08 20:17:10.931021"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 20:17:10.934252"], ["type_name", "drafts"], ["updated_at", "2016-08-08 20:17:10.934252"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 20:17:10.936764"], ["type_name", "trash"], ["updated_at", "2016-08-08 20:17:10.936764"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 20:17:10.938673"], ["type_name", "spam"], ["updated_at", "2016-08-08 20:17:10.938673"]]
  [1m[35m (0.4ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-08 23:17:40 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 200 OK in 160ms (Views: 105.7ms | ActiveRecord: 3.6ms)


Started POST "/users" for 127.0.0.1 at 2016-08-08 23:17:47 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@mainonrails.com"], ["encrypted_password", "$2a$10$i80zLVWsTEhT4AKlXGNOWu9IsrraXDmEGFgbFdBAGBr41..OGHJHm"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (1.0ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (1.1ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '40fd4ff55172092698cc7d83430efd610c3034dfd6ef63d57e9a05e1db7f7a02' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-08-08 20:17:47.520199"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "9ed305936007c20d7b6769334a82e931fc044efdac5fbef2e1cd03087fff90b4"], ["uid", "40fd4ff55172092698cc7d83430efd610c3034dfd6ef63d57e9a05e1db7f7a02"], ["updated_at", "2016-08-08 20:17:47.520199"]]
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'f6957521e929753da3199ac7a23d87c3f03a0f3e351f611dd78b953b54ce1d06' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.8ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'd5ebafb96a0de27bccef26101d8a600e24ce4b1057fd2f7fdd0934b6ba96d517' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-08-08 20:17:47.589246"], ["expires_in", 7200], ["refresh_token", "d5ebafb96a0de27bccef26101d8a600e24ce4b1057fd2f7fdd0934b6ba96d517"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "f6957521e929753da3199ac7a23d87c3f03a0f3e351f611dd78b953b54ce1d06"]]
  [1m[35m (0.6ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.4ms)
Completed 201 Created in 206ms (Views: 3.3ms | ActiveRecord: 19.8ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:16:10 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"password"=>"[FILTERED]", "username"=>"Hikarij"}
Completed 401 Unauthorized in 501ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:20:39 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[36mUser Load (96.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 194ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (38.6ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:27:25 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 3ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:31:12 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 3ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.4ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:31:44 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 2ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.3ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:32:13 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 2ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:34:42 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 2ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.2ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:35:17 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 5ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.8ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:35:39 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 1ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.5ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:36:32 +0300
  [1m[36mActiveRecord::SchemaMigration Load (24.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 42ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:14:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (14.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.6ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:37:53 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 3ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:14:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.8ms)
  [1m[36mUser Load (26.8ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (28.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'hikarij@mailonrails.com' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (13.0ms)[0m  [1mUPDATE "users" SET "email" = $1 WHERE "users"."id" = 1[0m  [["email", "hikarij@mailonrails.com"]]
  [1m[35m (45.7ms)[0m  COMMIT


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:39:01 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 4ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:14:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:39:22 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 1ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:14:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.2ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:42:06 +0300
Processing by Doorkeeper::TokensController#create as */*
  Parameters: {"grant_type"=>"password", "username"=>"hikarij@mainonrails.com", "password"=>"[FILTERED]"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1
Completed 500 Internal Server Error in 5ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'hikarij@mainonrails.com' LIMIT 1):
  config/initializers/doorkeeper.rb:14:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.9ms)
  [1m[36m (479.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (167.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1661.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (345.6ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (1.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (134.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (56.3ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (1.8ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (26.8ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (37.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (10.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (4.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35mSQL (0.2ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (62.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (6.3ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (4.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.3ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.8ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (2.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 21:42:47.991286"], ["type_name", "inbox"], ["updated_at", "2016-08-08 21:42:47.991286"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 21:42:47.994219"], ["type_name", "sent"], ["updated_at", "2016-08-08 21:42:47.994219"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 21:42:47.996354"], ["type_name", "drafts"], ["updated_at", "2016-08-08 21:42:47.996354"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 21:42:47.998288"], ["type_name", "trash"], ["updated_at", "2016-08-08 21:42:47.998288"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 21:42:48.000029"], ["type_name", "spam"], ["updated_at", "2016-08-08 21:42:48.000029"]]
  [1m[35m (0.6ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-09 00:43:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[35mUser Load (58.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 200 OK in 118ms (Views: 29.7ms | ActiveRecord: 62.7ms)


Started POST "/users" for 127.0.0.1 at 2016-08-09 00:43:47 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (36.9ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@mailonrails.com"], ["encrypted_password", "$2a$10$mNPjF/PlvLmU7qE0fCEkCOmRxZXuUg8E6E1WczYyaXghkDPjue/uG"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (35.6ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '50e000b6b815468ca07037fa63d8428c32d73633dc908a0fbbdba977ee2867d3' LIMIT 1
  [1m[36mSQL (5.6ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-08-08 21:43:47.941473"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "6819f6e3a5e9284f945bc4690399bd8a73d9fd98c59618ed3eb509f4a9b277ce"], ["uid", "50e000b6b815468ca07037fa63d8428c32d73633dc908a0fbbdba977ee2867d3"], ["updated_at", "2016-08-08 21:43:47.941473"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (3.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '5bf986a2156406d908ed3738d822b073ea0338d96f99c899a66b3ad03ae5a83d' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'b2760f00dcbe92ba138a02e8ceeaa8f1c6a7e5e55872d5cc32e8a30a1fcf4f0a' LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-08-08 21:43:48.016558"], ["expires_in", 7200], ["refresh_token", "b2760f00dcbe92ba138a02e8ceeaa8f1c6a7e5e55872d5cc32e8a30a1fcf4f0a"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "5bf986a2156406d908ed3738d822b073ea0338d96f99c899a66b3ad03ae5a83d"]]
  [1m[35m (1.0ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.37ms)
Completed 201 Created in 266ms (Views: 1.3ms | ActiveRecord: 96.3ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:44:15 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 14853ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:46:05 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1
Completed 500 Internal Server Error in 7017ms

ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "email"
LINE 1: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hik...
                                              ^
: SELECT  "users".* FROM "users"  WHERE "email"."email" = 'Hikarij' LIMIT 1):
  config/initializers/doorkeeper.rb:15:in `block (2 levels) in <top (required)>'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.6ms)
  [1m[36m (18.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateUserMessages (20160629175604)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629175604"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (37.5ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 21:50:21.934283"], ["type_name", "inbox"], ["updated_at", "2016-08-08 21:50:21.934283"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 21:50:21.936444"], ["type_name", "sent"], ["updated_at", "2016-08-08 21:50:21.936444"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 21:50:21.938094"], ["type_name", "drafts"], ["updated_at", "2016-08-08 21:50:21.938094"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-08-08 21:50:21.939352"], ["type_name", "trash"], ["updated_at", "2016-08-08 21:50:21.939352"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-08-08 21:50:21.940732"], ["type_name", "spam"], ["updated_at", "2016-08-08 21:50:21.940732"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[36mDoorkeeper::Application Load (0.7ms)[0m  [1mSELECT "oauth_applications".* FROM "oauth_applications"[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-08-09 00:50:54 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 200 OK in 50ms (Views: 26.0ms | ActiveRecord: 3.4ms)


Started POST "/users" for 127.0.0.1 at 2016-08-09 00:51:02 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "hikarij@mailonrails.com"], ["encrypted_password", "$2a$10$qG3SeOogbabwG3skrP4TouW/VjzlRBpUKl0KAREP1H8Mn5Lv7jwJG"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.8ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '2871345163ddec760e1938709240c04ca5ca34c54c72e4c073739d4a5fa935bb' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-08-08 21:51:02.848807"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "7dce50a499e1ca06653602888d814c92d2d798c2020fb3289687a5d369db11a9"], ["uid", "2871345163ddec760e1938709240c04ca5ca34c54c72e4c073739d4a5fa935bb"], ["updated_at", "2016-08-08 21:51:02.848807"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '5524b2a603817c7047145cc30c7e647ad6c548227fe980e854dff03a69da3dfa' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '39c971a0f2032dd0ad972f8684b2189ee8c93e7f26128f7a6fdf95151a72a240' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-08-08 21:51:02.907461"], ["expires_in", 7200], ["refresh_token", "39c971a0f2032dd0ad972f8684b2189ee8c93e7f26128f7a6fdf95151a72a240"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "5524b2a603817c7047145cc30c7e647ad6c548227fe980e854dff03a69da3dfa"]]
  [1m[35m (3.1ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.65ms)
Completed 201 Created in 183ms (Views: 1.8ms | ActiveRecord: 15.9ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:51:14 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Load (0.6ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '3484570a0103fee60db0a962cd93a38867d86a474a50c66f2a61fe487c20d60d' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'b73398f280b678605a231070cc498d7a7a81eb5a46ec047ef1ae62ea229d73f2' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_access_tokens" ("created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-08-08 21:51:20.388028"], ["expires_in", 7200], ["refresh_token", "b73398f280b678605a231070cc498d7a7a81eb5a46ec047ef1ae62ea229d73f2"], ["resource_owner_id", 1], ["scopes", ""], ["token", "3484570a0103fee60db0a962cd93a38867d86a474a50c66f2a61fe487c20d60d"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 6185ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:51:52 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (26.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (67.5ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 11137ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:53:52 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (367.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (56.6ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 4032ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:56:41 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 8593ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 00:59:28 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (21.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (20.5ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 148ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 01:02:31 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 81ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 01:07:27 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (176.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 319ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-08-09 01:09:02 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"Hikarij", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 1 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 76ms


Started POST "/oauth/token" for 127.0.0.1 at 2016-09-13 06:27:16 +0300
  [1m[36mActiveRecord::SchemaMigration Load (26.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"orperl", "password"=>"[FILTERED]"}
  [1m[35mUser Load (42.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (27.4ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 6 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::AccessToken Exists (37.8ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (1.1ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '155ec7907f0f918a6a8a880bef15f98ef80e2f14b6acf7bcf80ebb253e6355f8' LIMIT 1
  [1m[36mSQL (40.5ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-13 03:27:21.059484"], ["expires_in", 7200], ["refresh_token", "155ec7907f0f918a6a8a880bef15f98ef80e2f14b6acf7bcf80ebb253e6355f8"], ["resource_owner_id", 6], ["scopes", ""], ["token", "364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51"]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 632ms


Started POST "/users/get_user_by_email" for 127.0.0.1 at 2016-09-13 06:27:21 +0300
Processing by UsersController#get_user_by_email as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.52ms)
Completed 200 OK in 147ms (Views: 110.2ms | ActiveRecord: 0.4ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:32:04 +0300

ActionController::RoutingError (No route matches [POST] "/api/v1/emails"):
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (105.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (250.5ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:34:26 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant Api::V1):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.8ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:38:30 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant Api::V1):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (36.8ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:39:09 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant Api::V1):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (37.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (74.9ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:40:43 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant Api::V1):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (43.8ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:41:55 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (uninitialized constant Api::V1::EmailsController):
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `const_get'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:240:in `block in constantize'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.12) lib/active_support/inflector/methods.rb:236:in `constantize'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:78:in `controller_reference'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:68:in `controller'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:46:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (33.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:43:13 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::EmailsController#create as JSON
  [1m[35mDoorkeeper::AccessToken Load (73.4ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51' LIMIT 1
Completed 401 Unauthorized in 464ms (ActiveRecord: 234.1ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:45:40 +0300
Processing by Api::V1::EmailsController#create as JSON
  [1m[36mDoorkeeper::AccessToken Load (0.4ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51' LIMIT 1[0m
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.4ms)
  [1m[36mDoorkeeper::AccessToken Load (0.5ms)[0m  [1mSELECT "oauth_access_tokens".* FROM "oauth_access_tokens"[0m


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:50:17 +0300
Processing by Api::V1::EmailsController#create as JSON
  [1m[35mDoorkeeper::AccessToken Load (1.1ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51' LIMIT 1
Completed 401 Unauthorized in 3ms (ActiveRecord: 1.1ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-13 07:50:28 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[36mUser Load (26.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 121ms (Views: 89.2ms | ActiveRecord: 27.8ms)


Started POST "/users" for 127.0.0.1 at 2016-09-13 07:50:38 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Hikari", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"Hikarij"}
Unpermitted parameters: username
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (30.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hikarij@mailonrails.com' LIMIT 1
  [1m[36mSQL (103.0ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hikarij@mailonrails.com"], ["encrypted_password", "$2a$10$i07e75.UZ4BmL0/C9/.B8eUwDAnFAPQkuUUn4u4m94Hbq/iMmPKQ2"], ["first_name", "Hikari"], ["last_name", "Perlman"]]
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36mDoorkeeper::Application Load (26.6ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '1f859819630efa2c0daaa6ca15b3fc90482803c3fb7c27f39d44383222d95f24' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'f805d96f6f5de49a36390d43500ea7322d29c1c6853cc8911d1b214a4ec5d24d' LIMIT 1[0m
  [1m[35mSQL (62.2ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["application_id", 375], ["created_at", "2016-09-13 04:50:39.382605"], ["expires_in", 7200], ["refresh_token", "f805d96f6f5de49a36390d43500ea7322d29c1c6853cc8911d1b214a4ec5d24d"], ["resource_owner_id", 7], ["scopes", "public write preferences"], ["token", "1f859819630efa2c0daaa6ca15b3fc90482803c3fb7c27f39d44383222d95f24"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.41ms)
Completed 201 Created in 650ms (Views: 1.1ms | ActiveRecord: 289.0ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-09-13 07:51:21 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"orperl", "password"=>"[FILTERED]"}
  [1m[35mUser Load (17.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (15.3ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 6 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 104ms


Started POST "/users/get_user_by_email" for 127.0.0.1 at 2016-09-13 07:51:21 +0300
Processing by UsersController#get_user_by_email as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.47ms)
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-09-13 07:51:30 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"orperl", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Load (0.4ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 6 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1
Completed 200 OK in 75ms


Started POST "/users/get_user_by_email" for 127.0.0.1 at 2016-09-13 07:51:40 +0300
Processing by UsersController#get_user_by_email as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.47ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.6ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:53:23 +0300
Processing by Api::V1::EmailsController#create as JSON
  [1m[35mDoorkeeper::AccessToken Load (1.0ms)[0m  SELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51' LIMIT 1
Completed 401 Unauthorized in 3ms (ActiveRecord: 1.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 07:53:55 +0300
Processing by Api::V1::EmailsController#create as JSON
  [1m[36mDoorkeeper::AccessToken Load (0.8ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '364869cb2e34776cbea39b2dc2c04ff51217d8ba1cd8beab11857270e1439f51' LIMIT 1[0m
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.8ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 18:09:58 +0300
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::EmailsController#create as JSON
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 1.0ms
Completed 500 Internal Server Error in 16496ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `category' for #<UserMailer:0x007f83e82369f0>):
  app/mailers/user_mailer.rb:3:in `send_email'
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (26.2ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 18:14:44 +0300
Processing by Api::V1::EmailsController#create as JSON
Completed 500 Internal Server Error in 10568ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (73.7ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 18:56:17 +0300
  [1m[36mActiveRecord::SchemaMigration Load (49.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 2.2ms
Completed 500 Internal Server Error in 17806ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `category' for #<UserMailer:0x007f65bc7039a0>):
  app/mailers/user_mailer.rb:3:in `send_email'
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (42.3ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:02:10 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 63.5ms
Completed 500 Internal Server Error in 3170ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template user_mailer/send_email with "mailer". Searched in:
  * "user_mailer"
):
  app/mailers/user_mailer.rb:3:in `send_email'
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (1.4ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:07:03 +0300
  [1m[36mActiveRecord::SchemaMigration Load (22.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 662.0ms
Completed 500 Internal Server Error in 5288ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template api/v1/emails/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (7.4ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:07:47 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 181314.6ms
Completed 500 Internal Server Error in 191935ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template api/v1/emails/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (1.3ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:13:23 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Completed 500 Internal Server Error in 15613ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (20.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (23.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (19.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (170.2ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:14:05 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 15539.2ms
Completed 500 Internal Server Error in 20336ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template api/v1/emails/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (1.3ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:14:57 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 23712.6ms
Completed 500 Internal Server Error in 197808ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/mailers/user_mailer.rb:4:in `send_email'
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (30.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (22.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (135.9ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:20:10 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "subject"=>"Twst", "to"=>"HikariJ@gmail.com"}
Completed 500 Internal Server Error in 27287ms (ActiveRecord: 0.0ms)

SystemExit (exit):
  app/controllers/api/v1/emails_controller.rb:7:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (13.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (44.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (14.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (131.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:20:43 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 1440.2ms
Completed 500 Internal Server Error in 5095ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template api/v1/emails/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (2.4ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 19:24:45 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Hello World</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

ActionMailer::Base#mail: processed outbound mail in 2.9ms

Sent mail to HikariJ@gmail.com (2064.8ms)
Date: Tue, 13 Sep 2016 19:24:52 +0300
From: orperl@mailonrails.com
To: HikariJ@gmail.com
Message-ID: <57d828542d5bb_174b3fa7c4315cd03063c@Nishino-PC.mail>
Subject: Test Email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Hello World</p>

UserMailer#send_email: processed outbound mail in 4160.2ms
Completed 500 Internal Server Error in 7967ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template api/v1/emails/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  actionview (4.1.12) lib/action_view/path_set.rb:46:in `find'
  actionview (4.1.12) lib/action_view/lookup_context.rb:124:in `find'
  actionview (4.1.12) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:41:in `determine_template'
  actionview (4.1.12) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.12) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.12) lib/action_view/rendering.rb:99:in `_render_template'
  actionview (4.1.12) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.12) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.12) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.12) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:552:in `block (2 levels) in compile'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:502:in `call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.12) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.12) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.12) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.12) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activerecord (4.1.12) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.12) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (1.4ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-09-13 21:17:34 +0300
  [1m[36mActiveRecord::SchemaMigration Load (126.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"orperl", "password"=>"[FILTERED]"}
  [1m[35mUser Load (54.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (45.4ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 6 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mDoorkeeper::AccessToken Exists (31.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '47c9a19213e7fea2b8eae1ea86efb7ae8d1b63ce9e3df787cabb6f9ddc7bd3bd' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (1.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'b58bdc99a72f6e0e2d3c950dbf8cadde61456c3da5547128eb8623d55ccfe27a' LIMIT 1
  [1m[36mSQL (47.8ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-13 18:17:37.336391"], ["expires_in", 7200], ["refresh_token", "b58bdc99a72f6e0e2d3c950dbf8cadde61456c3da5547128eb8623d55ccfe27a"], ["resource_owner_id", 6], ["scopes", ""], ["token", "47c9a19213e7fea2b8eae1ea86efb7ae8d1b63ce9e3df787cabb6f9ddc7bd3bd"]]
  [1m[35m (80.0ms)[0m  COMMIT
Completed 200 OK in 965ms


Started POST "/users/get_user_by_email" for 127.0.0.1 at 2016-09-13 21:17:37 +0300
Processing by UsersController#get_user_by_email as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 139ms (Views: 68.4ms | ActiveRecord: 1.9ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:18:03 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p><span style=\"font-weight: normal;\">Bookie </span>Bold</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email2", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

ActionMailer::Base#mail: processed outbound mail in 712.5ms

Sent mail to HikariJ@gmail.com (1874.2ms)
Date: Tue, 13 Sep 2016 21:18:03 +0300
From: orperl@mailonrails.com
To: HikariJ@gmail.com
Message-ID: <57d842dbd66f0_16b62d280f0226ba@Nishino-PC.mail>
Subject: Test Email2
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p><span style="font-weight: normal;">Bookie </span>Bold</p>

UserMailer#send_email: processed outbound mail in 2589.5ms
Completed 500 Internal Server Error in 2784ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template api/v1/emails/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/doorkeeper-3.1.0/app/views"
  * "/home/nogi/.rvm/gems/ruby-2.1.3/gems/devise-3.3.0/app/views"
):
  app/controllers/api/v1/emails_controller.rb:8:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (25.2ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:20:43 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p><span style=\"font-weight: normal;\">Bookie </span>Bold</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email3", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

ActionMailer::Base#mail: processed outbound mail in 2.4ms

Sent mail to HikariJ@gmail.com (1218.5ms)
Date: Tue, 13 Sep 2016 21:20:43 +0300
From: orperl@mailonrails.com
To: HikariJ@gmail.com
Message-ID: <57d8437baac9e_16b63fdd100084e4227fb@Nishino-PC.mail>
Subject: Test Email3
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p><span style="font-weight: normal;">Bookie </span>Bold</p>

UserMailer#send_email: processed outbound mail in 1224.1ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.72ms)
Completed 200 OK in 1292ms (Views: 54.6ms | ActiveRecord: 0.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:22:30 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>check</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email4", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 0.6ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.66ms)
Completed 200 OK in 71ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:23:26 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>check</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email4", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 0.4ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:24:38 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Check</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email4", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 0.4ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 200 OK in 6ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:24:45 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Check</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email4", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 0.3ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.0ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:25:06 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>check</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email4", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 0.3ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.32ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.0ms)


Started POST "/oauth/token" for 127.0.0.1 at 2016-09-13 21:33:33 +0300
Processing by Doorkeeper::TokensController#create as HTML
  Parameters: {"grant_type"=>"password", "username"=>"orperl", "password"=>"[FILTERED]"}
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Load (1.3ms)[0m  [1mSELECT  "oauth_access_tokens".* FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."application_id" IS NULL AND "oauth_access_tokens"."resource_owner_id" = 6 AND "oauth_access_tokens"."revoked_at" IS NULL  ORDER BY created_at desc LIMIT 1[0m
Completed 200 OK in 487ms


Started POST "/users/get_user_by_email" for 127.0.0.1 at 2016-09-13 21:33:38 +0300
Processing by UsersController#get_user_by_email as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.4ms)
Completed 200 OK in 14ms (Views: 4.2ms | ActiveRecord: 1.4ms)


Started POST "/api/v1/emails" for 127.0.0.1 at 2016-09-13 21:34:15 +0300
Processing by Api::V1::EmailsController#create as JSON
  Parameters: {"body"=>"<p>Check</p>", "from"=>"orperl@mailonrails.com", "subject"=>"Test Email5", "to"=>"HikariJ@gmail.com"}
Unpermitted parameters: format

UserMailer#send_email: processed outbound mail in 1.1ms
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.66ms)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (117.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (168.9ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 06:43:35.978259"], ["type_name", "inbox"], ["updated_at", "2016-09-17 06:43:35.978259"]]
  [1m[35m (95.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 06:43:36.296397"], ["type_name", "sent"], ["updated_at", "2016-09-17 06:43:36.296397"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 06:43:36.298242"], ["type_name", "drafts"], ["updated_at", "2016-09-17 06:43:36.298242"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 06:43:36.299660"], ["type_name", "trash"], ["updated_at", "2016-09-17 06:43:36.299660"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 06:43:36.300998"], ["type_name", "spam"], ["updated_at", "2016-09-17 06:43:36.300998"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mMessageType Load (1.0ms)[0m  [1mSELECT "message_types".* FROM "message_types"[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (42.0ms)[0m  [1mINSERT INTO "user_messages" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-09-17 07:01:02.910274"], ["updated_at", "2016-09-17 07:01:02.910274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.8ms)[0m  UPDATE "user_messages" SET "is_read" = $1, "updated_at" = $2 WHERE "user_messages"."id" = 1  [["is_read", "f"], ["updated_at", "2016-09-17 07:01:37.555371"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUserMessage Load (0.4ms)[0m  SELECT "user_messages".* FROM "user_messages"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (86.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "user_messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 07:09:16.335734"], ["updated_at", "2016-09-17 07:09:16.335734"], ["user_id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserMessageIdToUser (20160917074836)
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (412.6ms)[0m  [1mALTER TABLE "users" ADD COLUMN "user_message_id" integer[0m
  [1m[35mSQL (7.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160917074836"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "user_messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 07:51:13.554124"], ["updated_at", "2016-09-17 07:51:13.554124"], ["user_id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (788.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (144.7ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1254.3ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (468.8ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (111.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (29.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (3.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (3.3ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (46.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (33.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917074836')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (65.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (249.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.5ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (72.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (46.0ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (25.8ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917074836')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 09:13:59.605841"], ["type_name", "inbox"], ["updated_at", "2016-09-17 09:13:59.605841"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 09:13:59.609527"], ["type_name", "sent"], ["updated_at", "2016-09-17 09:13:59.609527"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 09:13:59.611319"], ["type_name", "drafts"], ["updated_at", "2016-09-17 09:13:59.611319"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 09:13:59.612826"], ["type_name", "trash"], ["updated_at", "2016-09-17 09:13:59.612826"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 09:13:59.614420"], ["type_name", "spam"], ["updated_at", "2016-09-17 09:13:59.614420"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 09:14:08.960145"], ["type_name", "inbox"], ["updated_at", "2016-09-17 09:14:08.960145"]]
  [1m[35m (26.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 09:14:08.991021"], ["type_name", "sent"], ["updated_at", "2016-09-17 09:14:08.991021"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 09:14:08.992845"], ["type_name", "drafts"], ["updated_at", "2016-09-17 09:14:08.992845"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 09:14:08.994259"], ["type_name", "trash"], ["updated_at", "2016-09-17 09:14:08.994259"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 09:14:08.995709"], ["type_name", "spam"], ["updated_at", "2016-09-17 09:14:08.995709"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 12:42:30 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Completed 500 Internal Server Error in 89ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `email_exists?' for #<UsersController:0x007f26402c3928>):
  app/controllers/users_controller.rb:40:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (45.1ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 14:47:11 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NameError (uninitialized constant UserHelper::DOMAIN):
  app/helpers/user_helper.rb:3:in `email_exists?'
  app/controllers/users_controller.rb:42:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.2ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 14:47:59 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (72.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 306ms (Views: 138.7ms | ActiveRecord: 104.3ms)


Started POST "/users" for 127.0.0.1 at 2016-09-17 14:48:08 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (24.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (33.8ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$DXuE4oh6EIywWRBurUUeuO5R1aXbMLklJClaiXIhlmGoZ4zd3gAwm"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (22.7ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '42d24648d9c983d69e59d4888a48b85aca0cd82371ca9d775fed2637cabd6da4' LIMIT 1
  [1m[36mSQL (20.4ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-17 11:48:08.386002"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "d12bdc8d7470900bea7fb2e4a8b8f74feb90d3f04f5e6c6ef302b233d79ac670"], ["uid", "42d24648d9c983d69e59d4888a48b85aca0cd82371ca9d775fed2637cabd6da4"], ["updated_at", "2016-09-17 11:48:08.386002"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (40.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '67d6cea8d33556bcc4496a0af7202ba2087f49547659376d6aa56bf93c26f5eb' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '966294984e39f3477d9c974a6fb95c5f1d34f6fdf708079ea772582ab2b29c07' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-17 11:48:08.588462"], ["expires_in", 7200], ["refresh_token", "966294984e39f3477d9c974a6fb95c5f1d34f6fdf708079ea772582ab2b29c07"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "67d6cea8d33556bcc4496a0af7202ba2087f49547659376d6aa56bf93c26f5eb"]]
  [1m[35m (0.6ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.3ms)
Completed 201 Created in 551ms (Views: 0.8ms | ActiveRecord: 149.4ms)
  [1m[35m (27.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (23.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (48.1ms)[0m  INSERT INTO "messages" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-09-17 11:53:08.752163"], ["updated_at", "2016-09-17 11:53:08.752163"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "messages"
  [1m[36m (29.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (5085.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
PG::ObjectInUse: ERROR:  database "mail_on_rails_development" is being accessed by other users
DETAIL:  There is 1 other session using the database.
: DROP DATABASE IF EXISTS "mail_on_rails_development"
  [1m[35m (458.7ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
PG::DuplicateDatabase: ERROR:  database "mail_on_rails_development" already exists
: CREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'
  [1m[35m (1625.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (96.7ms)[0m  DROP TABLE "message_types"
  [1m[36m (78.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  DROP TABLE "messages"
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  DROP TABLE "oauth_access_grants"
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "oauth_access_tokens"[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (1.8ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (3.4ms)[0m  DROP TABLE "oauth_applications"
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (1.7ms)[0m  [1mDROP TABLE "user_messages"[0m
  [1m[35m (3.1ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (75.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (31.9ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (32.8ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (30.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (4.0ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917074836')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629175604')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:34.888380"], ["type_name", "inbox"], ["updated_at", "2016-09-17 12:09:34.888380"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:34.893067"], ["type_name", "sent"], ["updated_at", "2016-09-17 12:09:34.893067"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:34.895464"], ["type_name", "drafts"], ["updated_at", "2016-09-17 12:09:34.895464"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:34.897650"], ["type_name", "trash"], ["updated_at", "2016-09-17 12:09:34.897650"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:34.899685"], ["type_name", "spam"], ["updated_at", "2016-09-17 12:09:34.899685"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36m (275.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (133.7ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (445.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (266.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (35.3ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (41.2ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (3.9ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917074836')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (49.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (49.5ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (74.7ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (6.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (5.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (28.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (25.4ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (35.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) [0m
  [1m[35m (5.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (8.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (6.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917074836')[0m
  [1m[35m (23.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629175604')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:47.786525"], ["type_name", "inbox"], ["updated_at", "2016-09-17 12:09:47.786525"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:47.789323"], ["type_name", "sent"], ["updated_at", "2016-09-17 12:09:47.789323"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:47.791106"], ["type_name", "drafts"], ["updated_at", "2016-09-17 12:09:47.791106"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:47.793366"], ["type_name", "trash"], ["updated_at", "2016-09-17 12:09:47.793366"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:47.795385"], ["type_name", "spam"], ["updated_at", "2016-09-17 12:09:47.795385"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:52.045453"], ["type_name", "inbox"], ["updated_at", "2016-09-17 12:09:52.045453"]]
  [1m[35m (28.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:52.078571"], ["type_name", "sent"], ["updated_at", "2016-09-17 12:09:52.078571"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:52.083022"], ["type_name", "drafts"], ["updated_at", "2016-09-17 12:09:52.083022"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 12:09:52.087100"], ["type_name", "trash"], ["updated_at", "2016-09-17 12:09:52.087100"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 12:09:52.091007"], ["type_name", "spam"], ["updated_at", "2016-09-17 12:09:52.091007"]]
  [1m[35m (0.6ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 15:10:05 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 200 OK in 64ms (Views: 13.4ms | ActiveRecord: 4.4ms)


Started POST "/users" for 127.0.0.1 at 2016-09-17 15:10:11 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$lKbmD5IdU9E3CeKnb.MXxuXRBKBk1pVta/HAHBCT/g7bd1H6F1lm6"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (33.4ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'bac20140bb96208fd9138824f3bd72e9fceef2b46fa9b6c05ef859e3ceb98545' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-17 12:10:11.242854"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "e0d5b1ab3bf1b3ca0ce0c019a8f66c61e499945133d12b600ecbc7517504afa1"], ["uid", "bac20140bb96208fd9138824f3bd72e9fceef2b46fa9b6c05ef859e3ceb98545"], ["updated_at", "2016-09-17 12:10:11.242854"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.7ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '270beae3faeb03ec931c34aa3ac2d1ba01aa54bac0cee5410ffa60d7ecae78c2' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '75827474caf908bf110f83e1fd7894e6a54f07eaf0c2053c4f6950539c15d5ac' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-17 12:10:11.288262"], ["expires_in", 7200], ["refresh_token", "75827474caf908bf110f83e1fd7894e6a54f07eaf0c2053c4f6950539c15d5ac"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "270beae3faeb03ec931c34aa3ac2d1ba01aa54bac0cee5410ffa60d7ecae78c2"]]
  [1m[35m (0.7ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.41ms)
Completed 201 Created in 216ms (Views: 1.5ms | ActiveRecord: 48.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (212.0ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (267.7ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (552.6ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (329.7ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (37.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.8ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (7.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (2.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917074836')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160719134445')[0m
  [1m[35mSQL (0.3ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (25.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (16.8ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (11.9ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (9.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "user_messages" ("id" serial primary key, "user_id" bigint, "message_id" bigint, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35), "user_message_id" integer) 
  [1m[36m (5.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (5.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.8ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917074836')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 13:08:05.306083"], ["type_name", "inbox"], ["updated_at", "2016-09-17 13:08:05.306083"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 13:08:05.309950"], ["type_name", "sent"], ["updated_at", "2016-09-17 13:08:05.309950"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 13:08:05.311771"], ["type_name", "drafts"], ["updated_at", "2016-09-17 13:08:05.311771"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 13:08:05.314465"], ["type_name", "trash"], ["updated_at", "2016-09-17 13:08:05.314465"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 13:08:05.316380"], ["type_name", "spam"], ["updated_at", "2016-09-17 13:08:05.316380"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 13:08:09.000934"], ["type_name", "inbox"], ["updated_at", "2016-09-17 13:08:09.000934"]]
  [1m[35m (30.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 13:08:09.038259"], ["type_name", "sent"], ["updated_at", "2016-09-17 13:08:09.038259"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 13:08:09.042340"], ["type_name", "drafts"], ["updated_at", "2016-09-17 13:08:09.042340"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 13:08:09.046572"], ["type_name", "trash"], ["updated_at", "2016-09-17 13:08:09.046572"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 13:08:09.050568"], ["type_name", "spam"], ["updated_at", "2016-09-17 13:08:09.050568"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (33.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
PG::UndefinedTable: ERROR:  relation "messages" does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (24.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
PG::UndefinedTable: ERROR:  relation "messages" does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (68.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (7.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
PG::UndefinedTable: ERROR:  relation "users" does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (39.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
PG::UndefinedTable: ERROR:  relation "users" does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (39.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
PG::UndefinedTable: ERROR:  relation "users" does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "messages" ADD COLUMN "user_id" integer[0m
PG::UndefinedTable: ERROR:  relation "messages" does not exist
: ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "messages" ADD COLUMN "users_id" integer[0m
PG::UndefinedTable: ERROR:  relation "messages" does not exist
: ALTER TABLE "messages" ADD COLUMN "users_id" integer
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (35.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (35.6ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (1.2ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (8.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160917143639"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.7ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.1ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.7ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.3ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (5.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.1ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (8.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "users_id" integer
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_messages_on_users_id" ON "messages"  ("users_id")[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
PG::UndefinedColumn: ERROR:  column "user_id" referenced in foreign key constraint does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserToMessages (20160917143639)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "messages" ADD COLUMN "user_id" integer[0m
  [1m[35m (2.0ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160917143639"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.5ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (3.3ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.3ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 14:42:32.082814"], ["type_name", "inbox"], ["updated_at", "2016-09-17 14:42:32.082814"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 14:42:32.088696"], ["type_name", "sent"], ["updated_at", "2016-09-17 14:42:32.088696"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 14:42:32.091194"], ["type_name", "drafts"], ["updated_at", "2016-09-17 14:42:32.091194"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 14:42:32.093286"], ["type_name", "trash"], ["updated_at", "2016-09-17 14:42:32.093286"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 14:42:32.095129"], ["type_name", "spam"], ["updated_at", "2016-09-17 14:42:32.095129"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 17:43:01 +0300
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 84ms (Views: 36.2ms | ActiveRecord: 7.3ms)


Started POST "/users" for 127.0.0.1 at 2016-09-17 17:43:06 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$3G9qHg35pgqGMAVd7mV1f.bVxPlyk0eYdhtwpWFtOh6R4SwXkR4o6"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.8ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '2113097c604c7f73dd726414d379def16ec298f6f3f7bd1ec873528595d06c57' LIMIT 1
  [1m[36mSQL (27.0ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-17 14:43:06.262076"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "6a750a4fa1b6cf5c96ec4eadc3d3a28100d9f4e0d023209040577dab125aa874"], ["uid", "2113097c604c7f73dd726414d379def16ec298f6f3f7bd1ec873528595d06c57"], ["updated_at", "2016-09-17 14:43:06.262076"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '86c1cd8f30a771925339f3020cae5a9b7b8cb4db7397d0f873276a9a4e83579b' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '2b962e186575f31d1a292d7eaef876a32c34639a6ffc0e5264855470862f0c43' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-17 14:43:06.326391"], ["expires_in", 7200], ["refresh_token", "2b962e186575f31d1a292d7eaef876a32c34639a6ffc0e5264855470862f0c43"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "86c1cd8f30a771925339f3020cae5a9b7b8cb4db7397d0f873276a9a4e83579b"]]
  [1m[35m (4.7ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.37ms)
Completed 201 Created in 282ms (Views: 1.2ms | ActiveRecord: 49.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.2ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."id" = $1 LIMIT 1[0m  [["id", 0]]
  [1m[35mMessageType Load (0.3ms)[0m  SELECT "message_types".* FROM "message_types"
  [1m[36mMessageType Load (0.6ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.3ms)[0m  SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'
  [1m[36mMessageType Load (0.9ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (42.2ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:26:12.305058"], ["updated_at", "2016-09-17 15:26:12.305058"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (503.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (130.7ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (963.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (406.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (19.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (3.6ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.3ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:31:42.870720"], ["type_name", "inbox"], ["updated_at", "2016-09-17 15:31:42.870720"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 15:31:42.875054"], ["type_name", "sent"], ["updated_at", "2016-09-17 15:31:42.875054"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:31:42.877182"], ["type_name", "drafts"], ["updated_at", "2016-09-17 15:31:42.877182"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 15:31:42.879656"], ["type_name", "trash"], ["updated_at", "2016-09-17 15:31:42.879656"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:31:42.881435"], ["type_name", "spam"], ["updated_at", "2016-09-17 15:31:42.881435"]]
  [1m[35m (0.7ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 18:31:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 200 OK in 82ms (Views: 56.3ms | ActiveRecord: 4.6ms)


Started POST "/users" for 127.0.0.1 at 2016-09-17 18:31:58 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$u9nSqNnCC/ZsQoelzD17quQlBhTgmUKVNenTrVcwOIJDPfBz1Omri"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.8ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '0e5f7763be1cea402905549622a35824c54b64358d345b532197367a4d2f3c4b' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-17 15:31:58.388620"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "800f7915fa3949e950f991d844210cd6ed2d002cd2ab3cabcb95a36c0beea325"], ["uid", "0e5f7763be1cea402905549622a35824c54b64358d345b532197367a4d2f3c4b"], ["updated_at", "2016-09-17 15:31:58.388620"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (2.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'a0a3634024e366ffec04c9a810c6401e186aa9b12740a59cc8e3a7a4b6e6f1ba' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '23e3114cc4cae84540ac0df15a9bfa97c2fd59c337543936d3a2c40dbad05aa9' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-17 15:31:58.440420"], ["expires_in", 7200], ["refresh_token", "23e3114cc4cae84540ac0df15a9bfa97c2fd59c337543936d3a2c40dbad05aa9"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "a0a3634024e366ffec04c9a810c6401e186aa9b12740a59cc8e3a7a4b6e6f1ba"]]
  [1m[35m (0.7ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.4ms)
Completed 201 Created in 288ms (Views: 1.5ms | ActiveRecord: 25.5ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.6ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.5ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.5ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35mMessageType Load (0.3ms)[0m  SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 15:46:12.156453"], ["updated_at", "2016-09-17 15:46:12.156453"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (110.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (109.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (299.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (259.4ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (3.6ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.6ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (2.1ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (108.6ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (91.4ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (72.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (43.7ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (4.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (3.5ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:48:14.180448"], ["type_name", "inbox"], ["updated_at", "2016-09-17 15:48:14.180448"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 15:48:14.184409"], ["type_name", "sent"], ["updated_at", "2016-09-17 15:48:14.184409"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:48:14.186689"], ["type_name", "drafts"], ["updated_at", "2016-09-17 15:48:14.186689"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 15:48:14.188508"], ["type_name", "trash"], ["updated_at", "2016-09-17 15:48:14.188508"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 15:48:14.190247"], ["type_name", "spam"], ["updated_at", "2016-09-17 15:48:14.190247"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (105.4ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.5ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (300.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (282.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_message_type_id_fk" FOREIGN KEY ("message_type_id") REFERENCES "message_types"(id)[0m
PG::UndefinedTable: ERROR:  relation "messages" does not exist
: ALTER TABLE "messages" ADD CONSTRAINT "messages_message_type_id_fk" FOREIGN KEY ("message_type_id") REFERENCES "message_types"(id)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (111.3ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (120.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (309.0ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (311.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (10.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "subject" character varying(255), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.0ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (34.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (3.5ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (4.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (4.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (4.8ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (3.0ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (3.1ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 16:17:32.830511"], ["type_name", "inbox"], ["updated_at", "2016-09-17 16:17:32.830511"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 16:17:32.833357"], ["type_name", "sent"], ["updated_at", "2016-09-17 16:17:32.833357"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 16:17:32.835236"], ["type_name", "drafts"], ["updated_at", "2016-09-17 16:17:32.835236"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 16:17:32.836848"], ["type_name", "trash"], ["updated_at", "2016-09-17 16:17:32.836848"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 16:17:32.838741"], ["type_name", "spam"], ["updated_at", "2016-09-17 16:17:32.838741"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-17 19:17:51 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 78ms (Views: 43.7ms | ActiveRecord: 5.5ms)


Started POST "/users" for 127.0.0.1 at 2016-09-17 19:17:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$45VvbFh3wD..nDimytD5J.o4ocP0/Ih0cQFmVFFe2dYeQkG98.ltq"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (4.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (1.2ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'e2be76849c5584da537cd710aad5f5aa2fc32ce4eb3887f99d7735631fa8d673' LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-17 16:17:56.376082"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "bd71fafe68ce078d9e3ffe225c6df9b14b2fbd7d07802614c9eb1f8a6094624e"], ["uid", "e2be76849c5584da537cd710aad5f5aa2fc32ce4eb3887f99d7735631fa8d673"], ["updated_at", "2016-09-17 16:17:56.376082"]]
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.8ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '62570c057aeb1c9ea8e19d769dc5c83c2e823d8857837026d956f25810c7195a' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (1.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '813ede1f0afb37d0eeda4c52c26adc1f83791716ba5f6097613ccceecf236246' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-17 16:17:56.443155"], ["expires_in", 7200], ["refresh_token", "813ede1f0afb37d0eeda4c52c26adc1f83791716ba5f6097613ccceecf236246"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "62570c057aeb1c9ea8e19d769dc5c83c2e823d8857837026d956f25810c7195a"]]
  [1m[35m (1.1ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.74ms)
Completed 201 Created in 241ms (Views: 6.5ms | ActiveRecord: 25.0ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 16:18:39.368672"], ["updated_at", "2016-09-17 16:18:39.368672"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-17 16:18:39.368672"], ["updated_at", "2016-09-17 16:18:39.368672"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-17 16:18:39.368672"], ["updated_at", "2016-09-17 16:18:39.368672"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (0.5ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "messages" ("created_at", "message_type_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-17 16:21:40.417361"], ["message_type_id", 1], ["updated_at", "2016-09-17 16:21:40.417361"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (55.7ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessageType Load (1.0ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessage Load (0.7ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "messages" ("created_at", "message_type_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-18 03:56:09.930923"], ["message_type_id", 1], ["updated_at", "2016-09-18 03:56:09.930923"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (665.0ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (122.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (2279.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (309.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (26.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (10.3ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (4.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (11.4ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (3.7ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (4.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.8ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (3.4ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (2.1ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (4.2ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.2ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (4.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35mActiveRecord::SchemaMigration Load (1.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:26:23.357984"], ["type_name", "inbox"], ["updated_at", "2016-09-18 04:26:23.357984"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:26:23.360710"], ["type_name", "sent"], ["updated_at", "2016-09-18 04:26:23.360710"]]
  [1m[35m (2.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:26:23.364299"], ["type_name", "drafts"], ["updated_at", "2016-09-18 04:26:23.364299"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:26:23.366183"], ["type_name", "trash"], ["updated_at", "2016-09-18 04:26:23.366183"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:26:23.367824"], ["type_name", "spam"], ["updated_at", "2016-09-18 04:26:23.367824"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-18 07:26:42 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (2.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 200 OK in 502ms (Views: 440.7ms | ActiveRecord: 4.8ms)


Started POST "/users" for 127.0.0.1 at 2016-09-18 07:27:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$qvX.plCu3JXtvT54SPOUHem/dk3ENUz0K8evKrFeuR9..Y/XtPZo2"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.7ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '7f0a1fcf672fac5ee04a6552f8fd22dad5c05c7f4c94990a7fea548ca0b54809' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-18 04:27:26.704064"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "77b259e2d2a9c653259de6a3ad5c886dadf21f55c13be6ba71efdfd4ebb358da"], ["uid", "7f0a1fcf672fac5ee04a6552f8fd22dad5c05c7f4c94990a7fea548ca0b54809"], ["updated_at", "2016-09-18 04:27:26.704064"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'f5a4a01670f308f95a96624903f074f94642cc44532ba85e0418a395caf1c112' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'f57e9c3e4f545de7a4d94079198029cd3bac61e5259889435ce03b4a2d0c4d6a' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-18 04:27:26.737907"], ["expires_in", 7200], ["refresh_token", "f57e9c3e4f545de7a4d94079198029cd3bac61e5259889435ce03b4a2d0c4d6a"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "f5a4a01670f308f95a96624903f074f94642cc44532ba85e0418a395caf1c112"]]
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "messages" ("body", "created_at", "from", "message_type_id", "subject", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["body", "Hi Or Perlman,\n\n        Thank you for signing up to use the MailOnRails email service.\n\n        We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n        from which you could do everything that is needed for your daily work.\n\n        We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-18 04:27:26.785377"], ["from", "orperl@mailonrails.com"], ["message_type_id", 1], ["subject", "Welcome to MailOnRails"], ["updated_at", "2016-09-18 04:27:26.785377"], ["user_id", 1]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.49ms)
Completed 201 Created in 264ms (Views: 5.5ms | ActiveRecord: 27.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMessage Load (0.9ms)[0m  SELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" ASC LIMIT 1
  [1m[36mMessage Load (0.4ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = 1 LIMIT 1[0m
  [1m[35mMessage Load (0.4ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."is_read" = 'f' LIMIT 1
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."is_read" = 't' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (105.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (111.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (303.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (297.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (1.1ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (35.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (4.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (7.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (5.1ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (2.9ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (102.0ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (62.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (4.7ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (42.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (56.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.9ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:29:11.329279"], ["type_name", "inbox"], ["updated_at", "2016-09-18 04:29:11.329279"]]
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:29:11.335888"], ["type_name", "sent"], ["updated_at", "2016-09-18 04:29:11.335888"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:29:11.338546"], ["type_name", "drafts"], ["updated_at", "2016-09-18 04:29:11.338546"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:29:11.340924"], ["type_name", "trash"], ["updated_at", "2016-09-18 04:29:11.340924"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:29:11.343591"], ["type_name", "spam"], ["updated_at", "2016-09-18 04:29:11.343591"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:29:15.754311"], ["type_name", "inbox"], ["updated_at", "2016-09-18 04:29:15.754311"]]
  [1m[35m (38.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:29:15.799014"], ["type_name", "sent"], ["updated_at", "2016-09-18 04:29:15.799014"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:29:15.801487"], ["type_name", "drafts"], ["updated_at", "2016-09-18 04:29:15.801487"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:29:15.803503"], ["type_name", "trash"], ["updated_at", "2016-09-18 04:29:15.803503"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:29:15.806647"], ["type_name", "spam"], ["updated_at", "2016-09-18 04:29:15.806647"]]
  [1m[35m (0.6ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-18 07:31:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 200 OK in 78ms (Views: 52.3ms | ActiveRecord: 6.1ms)


Started POST "/users" for 127.0.0.1 at 2016-09-18 07:31:58 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$8HfAzY/RWjcrLAaMb9T.GevYjejriKhxYgKmg5DwkKpn0THCbe6Hi"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.6ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '5181cd4c4bc717c50efd7b18594f9c7b25201b78e6331d46012d3fba218cf217' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:07.984761"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "26bd8c3886534d28bc01a5dc3b4aa1f989923fe33b86e9e463a6b49c1f412a0b"], ["uid", "5181cd4c4bc717c50efd7b18594f9c7b25201b78e6331d46012d3fba218cf217"], ["updated_at", "2016-09-18 04:33:07.984761"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.9ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '28b1c95642e9191ba35de88f0b9e45c6c0b706b73f37e49875f281c63ab710ee' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '6a2603b221dffc87312dc67d57298f9026efe95a00cc3a91930ba7b1997cbb72' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-18 04:33:08.019997"], ["expires_in", 7200], ["refresh_token", "6a2603b221dffc87312dc67d57298f9026efe95a00cc3a91930ba7b1997cbb72"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "28b1c95642e9191ba35de88f0b9e45c6c0b706b73f37e49875f281c63ab710ee"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mMessageType Load (1.0ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "messages" ("body", "created_at", "from", "message_type_id", "subject", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["body", "Hi Or Perlman,\n\n        Thank you for signing up to use the MailOnRails email service.\n\n        We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n        from which you could do everything that is needed for your daily work.\n\n        We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-18 04:33:08.062755"], ["from", "orperl@mailonrails.com"], ["message_type_id", 1], ["subject", "Welcome to MailOnRails"], ["updated_at", "2016-09-18 04:33:08.062755"], ["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.5ms)
Completed 201 Created in 69878ms (Views: 1.4ms | ActiveRecord: 23.1ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mMessage Load (0.6ms)[0m  SELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (206.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.5ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (372.6ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (286.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.7ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (7.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (5.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.8ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (3.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (3.8ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:30.772770"], ["type_name", "inbox"], ["updated_at", "2016-09-18 04:33:30.772770"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:33:30.776771"], ["type_name", "sent"], ["updated_at", "2016-09-18 04:33:30.776771"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:30.779536"], ["type_name", "drafts"], ["updated_at", "2016-09-18 04:33:30.779536"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:33:30.782584"], ["type_name", "trash"], ["updated_at", "2016-09-18 04:33:30.782584"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:30.787119"], ["type_name", "spam"], ["updated_at", "2016-09-18 04:33:30.787119"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (106.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.8ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (320.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (355.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (45.5ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.7ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (48.2ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (3.5ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "message_type_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) [0m
  [1m[35m (3.8ms)[0m  CREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")
  [1m[36m (3.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")[0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")[0m
  [1m[35m (3.3ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160917143639')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629143958')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629165702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160727123712')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:37.035712"], ["type_name", "inbox"], ["updated_at", "2016-09-18 04:33:37.035712"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:33:37.039882"], ["type_name", "sent"], ["updated_at", "2016-09-18 04:33:37.039882"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:37.041561"], ["type_name", "drafts"], ["updated_at", "2016-09-18 04:33:37.041561"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:33:37.043050"], ["type_name", "trash"], ["updated_at", "2016-09-18 04:33:37.043050"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:37.044524"], ["type_name", "spam"], ["updated_at", "2016-09-18 04:33:37.044524"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:44.486125"], ["type_name", "inbox"], ["updated_at", "2016-09-18 04:33:44.486125"]]
  [1m[35m (6.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:33:44.496592"], ["type_name", "sent"], ["updated_at", "2016-09-18 04:33:44.496592"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:44.499067"], ["type_name", "drafts"], ["updated_at", "2016-09-18 04:33:44.499067"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-18 04:33:44.501664"], ["type_name", "trash"], ["updated_at", "2016-09-18 04:33:44.501664"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-18 04:33:44.503506"], ["type_name", "spam"], ["updated_at", "2016-09-18 04:33:44.503506"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-18 07:34:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 200 OK in 61ms (Views: 24.9ms | ActiveRecord: 6.6ms)


Started POST "/users" for 127.0.0.1 at 2016-09-18 07:34:46 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
Unpermitted parameters: username
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$Xe9Tnmj.dHUWl1G/YKAsuuL.LciR8EJuPWgRAMxn15Bf/iUVqdwFu"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.9ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (1.1ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'f1a5ec3ddad6c1f56daac482d88e3003a656f03162765145f3dd86345a12192a' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-18 04:34:46.261211"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "7c57415c7ddd367e05b4cc506ad3f0c1c8672d187809e1cd99e78f3e2b8f2edd"], ["uid", "f1a5ec3ddad6c1f56daac482d88e3003a656f03162765145f3dd86345a12192a"], ["updated_at", "2016-09-18 04:34:46.261211"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'bb195969e56784e5dd3e577cb04e0c68a310c5d2659711a175d8b4ab96b600a4' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.8ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'f75a963fafb3a7038ab21927a387184fb4be7930c4d39f6655387d43a4c6115e' LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-18 04:34:46.301781"], ["expires_in", 7200], ["refresh_token", "f75a963fafb3a7038ab21927a387184fb4be7930c4d39f6655387d43a4c6115e"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "bb195969e56784e5dd3e577cb04e0c68a310c5d2659711a175d8b4ab96b600a4"]]
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mMessageType Load (1.3ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "messages" ("body", "created_at", "from", "message_type_id", "subject", "to", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["body", "Hi Or Perlman,\n\n        Thank you for signing up to use the MailOnRails email service.\n\n        We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n        from which you could do everything that is needed for your daily work.\n\n        We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-18 04:34:46.358609"], ["from", "admin@mailonrails.com"], ["message_type_id", 1], ["subject", "Welcome to MailOnRails"], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-18 04:34:46.358609"], ["user_id", 1]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.61ms)
Completed 201 Created in 244ms (Views: 1.5ms | ActiveRecord: 30.3ms)
  [1m[35mMessage Load (0.9ms)[0m  SELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" ASC LIMIT 1
  [1m[36m (190.5ms)[0m  [1mROLLBACK[0m
  [1m[36m (608.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (360.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1283.0ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (304.0ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (22.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (5.3ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (23.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.2ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (8.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (3.2ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (37.8ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to CreateMailCategories (20160919024651)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (24.2ms)[0m  ALTER TABLE "mail_categories" ADD CONSTRAINT "mail_categories_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
PG::UndefinedTable: ERROR:  relation "mail_categories" does not exist
: ALTER TABLE "mail_categories" ADD CONSTRAINT "mail_categories_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMailCategories (20160919024651)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "mail_categories" ADD COLUMN "message_id" integer[0m
PG::UndefinedTable: ERROR:  relation "mail_categories" does not exist
: ALTER TABLE "mail_categories" ADD COLUMN "message_id" integer
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMailCategories (20160919024651)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "mail_categories" ADD CONSTRAINT "mail_categories_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "messages"(id)[0m
PG::UndefinedTable: ERROR:  relation "mail_categories" does not exist
: ALTER TABLE "mail_categories" ADD CONSTRAINT "mail_categories_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMailCategories (20160919024651)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "mail_categories" ADD COLUMN "message_id" integer[0m
PG::UndefinedTable: ERROR:  relation "mail_categories" does not exist
: ALTER TABLE "mail_categories" ADD COLUMN "message_id" integer
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMailCategories (20160919024651)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "mail_categories" ADD CONSTRAINT "mail_categories_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "messages"(id)[0m
PG::UndefinedTable: ERROR:  relation "mail_categories" does not exist
: ALTER TABLE "mail_categories" ADD CONSTRAINT "mail_categories_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMailCategories (20160919024651)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "mail_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "messages_id" integer) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160919024651"]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'mail_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.2ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (110.2ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (110.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (306.5ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (283.4ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.8ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "mail_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "messages_id" integer) 
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (35.0ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (3.2ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.4ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.8ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (22.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (42.2ms)[0m  CREATE TABLE "mail_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "messages_id" integer) 
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (65.4ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (5.1ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (30.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (9.3ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (40.1ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (12.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.7ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 02:55:07.786494"], ["type_name", "inbox"], ["updated_at", "2016-09-19 02:55:07.786494"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 02:55:07.790307"], ["type_name", "sent"], ["updated_at", "2016-09-19 02:55:07.790307"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 02:55:07.792090"], ["type_name", "drafts"], ["updated_at", "2016-09-19 02:55:07.792090"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 02:55:07.793874"], ["type_name", "trash"], ["updated_at", "2016-09-19 02:55:07.793874"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 02:55:07.795636"], ["type_name", "spam"], ["updated_at", "2016-09-19 02:55:07.795636"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (105.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (205.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (363.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (301.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (63.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (5.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (34.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (4.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (6.0ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.3ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (3.8ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.6ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (27.3ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "messages_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.5ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMessageCategory Load (0.5ms)[0m  SELECT "message_categories".* FROM "message_categories"
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (110.0ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (111.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (256.8ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (313.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (28.6ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (5.1ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.2ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "messages" ADD COLUMN "message_category_id" integer
  [1m[36m (3.8ms)[0m  [1mCREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160919024651"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (3.2ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (3.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.5ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (3.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.4ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mMessageCategory Load (0.4ms)[0m  SELECT "message_categories".* FROM "message_categories"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (108.8ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (119.1ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (340.3ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (258.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (19.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (39.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (4.7ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.7ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (21.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (8.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (3.9ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "messages_id" integer) 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.7ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:01:04.758927"], ["type_name", "inbox"], ["updated_at", "2016-09-19 03:01:04.758927"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:01:04.763760"], ["type_name", "sent"], ["updated_at", "2016-09-19 03:01:04.763760"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:01:04.766155"], ["type_name", "drafts"], ["updated_at", "2016-09-19 03:01:04.766155"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:01:04.767797"], ["type_name", "trash"], ["updated_at", "2016-09-19 03:01:04.767797"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:01:04.769406"], ["type_name", "spam"], ["updated_at", "2016-09-19 03:01:04.769406"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (116.3ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (274.6ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (260.7ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (77.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (5.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (12.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (4.8ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (4.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (4.9ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.3ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:03:06.161705"], ["type_name", "inbox"], ["updated_at", "2016-09-19 03:03:06.161705"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:03:06.165881"], ["type_name", "sent"], ["updated_at", "2016-09-19 03:03:06.165881"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:03:06.167705"], ["type_name", "drafts"], ["updated_at", "2016-09-19 03:03:06.167705"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:03:06.169569"], ["type_name", "trash"], ["updated_at", "2016-09-19 03:03:06.169569"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:03:06.171057"], ["type_name", "spam"], ["updated_at", "2016-09-19 03:03:06.171057"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (119.4ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (116.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (288.8ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (345.4ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (10.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (6.3ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (4.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "messages_id" integer) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.4ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.4ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.1ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:05:06.342971"], ["type_name", "inbox"], ["updated_at", "2016-09-19 03:05:06.342971"]]
  [1m[35m (14.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:05:06.361094"], ["type_name", "sent"], ["updated_at", "2016-09-19 03:05:06.361094"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:05:06.362697"], ["type_name", "drafts"], ["updated_at", "2016-09-19 03:05:06.362697"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:05:06.364027"], ["type_name", "trash"], ["updated_at", "2016-09-19 03:05:06.364027"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:05:06.365283"], ["type_name", "spam"], ["updated_at", "2016-09-19 03:05:06.365283"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-19 06:05:28 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Unpermitted parameters: username
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.47ms)
Completed 200 OK in 206ms (Views: 59.1ms | ActiveRecord: 5.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (105.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (119.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (355.4ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (315.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (4.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (2.9ms)[0m  BEGIN
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.8ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (6.6ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (5.4ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.1ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.4ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.7ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:17:06.705886"], ["type_name", "inbox"], ["updated_at", "2016-09-19 03:17:06.705886"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:17:06.711265"], ["type_name", "sent"], ["updated_at", "2016-09-19 03:17:06.711265"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:17:06.713710"], ["type_name", "drafts"], ["updated_at", "2016-09-19 03:17:06.713710"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:17:06.715663"], ["type_name", "trash"], ["updated_at", "2016-09-19 03:17:06.715663"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 03:17:06.717474"], ["type_name", "spam"], ["updated_at", "2016-09-19 03:17:06.717474"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mMessageCategory Load (0.6ms)[0m  SELECT  "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'  ORDER BY "message_categories"."id" ASC LIMIT 1
PG::UndefinedColumn: ERROR:  column message_categories.type_name does not exist
LINE 1: ...ge_categories".* FROM "message_categories"  WHERE "message_c...
                                                             ^
: SELECT  "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'  ORDER BY "message_categories"."id" ASC LIMIT 1
  [1m[36mMessageCategory Load (0.4ms)[0m  [1mSELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'[0m
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'
  [1m[35mMessageCategory Load (0.4ms)[0m  SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'
  [1m[36mMessageCategory Load (0.3ms)[0m  [1mSELECT  "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'  ORDER BY "message_categories"."id" ASC LIMIT 1[0m
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT  "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'  ORDER BY "message_categories"."id" ASC LIMIT 1
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (17.5ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-09-19 03:32:57.304344"], ["updated_at", "2016-09-19 03:32:57.304344"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 03:32:57.327509"], ["message_id", 1], ["updated_at", "2016-09-19 03:32:57.327509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMessageCategory Load (0.3ms)[0m  SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" = $1  [["message_id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (47.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'or.perlman@outlook.com' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"  [["email", "or.perlman@outlook.com"], ["encrypted_password", "$2a$10$zqrYwqqI4lEFdi7GzjqHN.atyRbfsiQ1WgdynCjTna.mYeCNT/Xbm"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 05:13:12.321971"], ["updated_at", "2016-09-19 05:13:12.321971"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageCategory Load (0.7ms)[0m  [1mSELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" = $1[0m  [["message_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 05:13:41.027366"], ["message_id", 2], ["updated_at", "2016-09-19 05:13:41.027366"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.6ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 05:18:18.374468"], ["message_id", 2], ["updated_at", "2016-09-19 05:18:18.374468"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent_items'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT "message_types".* FROM "message_types"
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMessageCategory Load (0.3ms)[0m  SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" = $1  [["message_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageCategory Load (0.5ms)[0m  [1mSELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" = $1[0m  [["message_id", 2]]
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$4.kyK7h/BUw8PZk..ON8TeSli9lRz6xIw6xxm3zH0/dfQ5rCYhOru"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (36.4ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 05:45:14.280609"], ["updated_at", "2016-09-19 05:45:14.280609"], ["user_id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 05:46:33.593308"], ["message_id", 3], ["message_type_id", 1], ["updated_at", "2016-09-19 05:46:33.593308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMessageCategory Load (0.2ms)[0m  SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" = $1  [["message_id", 3]]
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT "message_types".* FROM "message_types"[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 05:50:26.470797"], ["message_id", 3], ["message_type_id", 2], ["updated_at", "2016-09-19 05:50:26.470797"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMessageCategory Load (0.4ms)[0m  SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" = $1  [["message_id", 3]]
  [1m[36mMessageCategory Load (42.7ms)[0m  [1mSELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'[0m
PG::UndefinedColumn: ERROR:  column message_categories.type_name does not exist
LINE 1: ...ge_categories".* FROM "message_categories"  WHERE "message_c...
                                                             ^
: SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'
  [1m[35mMessageCategory Load (0.3ms)[0m  SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'
  [1m[36mMessageCategory Load (0.8ms)[0m  [1mSELECT  "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'  ORDER BY "message_categories"."id" ASC LIMIT 1[0m
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT  "message_categories".* FROM "message_categories"  WHERE "message_categories"."type_name" = 'inbox'  ORDER BY "message_categories"."id" ASC LIMIT 1
  [1m[35mMessageCategory Load (0.5ms)[0m  SELECT "message_categories".* FROM "message_categories"
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT "message_categories".* FROM "message_categories"
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SAVEPOINT active_record_1
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$6K6Q1.AtrO7R6zYt6KUgQOXTqrBqTa/88Rv5KpgjdOfbih5tJgLbm"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 05:59:10.015196"], ["updated_at", "2016-09-19 05:59:10.015196"], ["user_id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.7ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 06:00:12.507562"], ["message_id", 4], ["message_type_id", 1], ["updated_at", "2016-09-19 06:00:12.507562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 06:00:49.709274"], ["message_id", 4], ["message_type_id", 2], ["updated_at", "2016-09-19 06:00:49.709274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessageType Load (0.3ms)[0m  SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'
  [1m[36mMessageType Load (0.3ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36mMessage Load (0.6ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."message_type_id" = 1[0m
PG::UndefinedColumn: ERROR:  column messages.message_type_id does not exist
LINE 1: SELECT "messages".* FROM "messages"  WHERE "messages"."messa...
                                                   ^
: SELECT "messages".* FROM "messages"  WHERE "messages"."message_type_id" = 1
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$6q9MiZfg/Pyovt7K1.03Q.r5NUXgIru9Mi1xCJLDQP1gRpFm5Hof2"]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 07:16:14.028122"], ["updated_at", "2016-09-19 07:16:14.028122"], ["user_id", 4]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36mMessageType Load (0.5ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 07:16:44.769604"], ["message_id", 5], ["message_type_id", 1], ["updated_at", "2016-09-19 07:16:44.769604"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mMessageType Load (0.5ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 07:17:29.327007"], ["message_id", 5], ["message_type_id", 2], ["updated_at", "2016-09-19 07:17:29.327007"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mSQL (1.4ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_categories"."message_type_id." = '1'[0m
PG::UndefinedColumn: ERROR:  column message_categories.message_type_id. does not exist
LINE 1: ...messages"."id" WHERE "messages"."user_id" = 1 AND "message_c...
                                                             ^
: SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_categories"."message_type_id." = '1'
  [1m[35mSQL (0.3ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_type_id"."" = '1'
PG::SyntaxError: ERROR:  zero-length delimited identifier at or near """"
LINE 1: ...HERE "messages"."user_id" = 1 AND "message_type_id"."" = '1'
                                                               ^
: SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_type_id"."" = '1'
  [1m[36mMessage Load (0.5ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = 1 AND "messages"."message_type_id" = '1'[0m
PG::UndefinedColumn: ERROR:  column messages.message_type_id does not exist
LINE 1: ...OM "messages"  WHERE "messages"."user_id" = 1 AND "messages"...
                                                             ^
: SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = 1 AND "messages"."message_type_id" = '1'
  [1m[35mMessage Load (0.6ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_categories"."id" = 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_categories"."message_type_id" = 1
  [1m[36mSQL (0.5ms)[0m  [1mSELECT  DISTINCT "messages"."id", "messages"."id" AS alias_0 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 1 AND "message_categories"."message_type_id" = 1  ORDER BY "messages"."id" ASC LIMIT 1[0m
  [1m[35mMessageCategory Load (0.3ms)[0m  SELECT "message_categories".* FROM "message_categories"
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mSQL (0.5ms)[0m  SELECT  DISTINCT "messages"."id", "messages"."id" AS alias_0 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 4 AND "message_categories"."message_type_id" = 1  ORDER BY "messages"."id" ASC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 4 AND "message_categories"."message_type_id" = 1 AND "messages"."id" IN (5)  ORDER BY "messages"."id" ASC[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = 4 AND "message_categories"."message_type_id" = 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  [["user_id", 4]]
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" = 1[0m  [["user_id", 4]]
  [1m[35mSQL (0.4ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "messages"."is_read" = 'false' AND "message_categories"."message_type_id" = 1  [["user_id", 4]]
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."created_at" AS t0_r8, "messages"."updated_at" AS t0_r9, "messages"."user_id" AS t0_r10, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "messages"."is_read" = 'true' AND "message_categories"."message_type_id" = 1[0m  [["user_id", 4]]
  [1m[36m (670.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (147.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (1490.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (408.6ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (26.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (18.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.3ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (5.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.1ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.7ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (3.6ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to CreateMessageRelations (20160919130625)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "message_relations" ADD CONSTRAINT "child_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
PG::UndefinedTable: ERROR:  relation "message_relations" does not exist
: ALTER TABLE "message_relations" ADD CONSTRAINT "child_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageRelations (20160919130625)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (38.8ms)[0m  [1mCREATE TABLE "message_relations" ("id" serial primary key, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160919130625"]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Migrating to AddForeignKeysToMessageRelations (20160919135432)
  [1m[35m (1.1ms)[0m  ALTER TABLE "message_relations" ADD COLUMN "message_id" integer
  [1m[36m (3.5ms)[0m  [1mCREATE  INDEX  "index_message_relations_on_message_id" ON "message_relations"  ("message_id")[0m
  [1m[35m (3.2ms)[0m  ALTER TABLE "message_relations" ADD CONSTRAINT "child_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "message_relations" ADD CONSTRAINT "parent_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919135432"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.7ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_relations'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (4.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 13:58:19.432399"], ["type_name", "inbox"], ["updated_at", "2016-09-19 13:58:19.432399"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 13:58:19.436669"], ["type_name", "sent"], ["updated_at", "2016-09-19 13:58:19.436669"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 13:58:19.438090"], ["type_name", "drafts"], ["updated_at", "2016-09-19 13:58:19.438090"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 13:58:19.439735"], ["type_name", "trash"], ["updated_at", "2016-09-19 13:58:19.439735"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 13:58:19.441357"], ["type_name", "spam"], ["updated_at", "2016-09-19 13:58:19.441357"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (112.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (272.3ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (289.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (31.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (5.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.7ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.4ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.4ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to CreateMessageRelations (20160919130625)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "message_relations" ("id" serial primary key, "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919130625"]]
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to AddForeignKeysToMessageRelations (20160919135432)
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "message_relations" ADD COLUMN "message_id" integer[0m
  [1m[35m (1.9ms)[0m  CREATE  INDEX  "index_message_relations_on_message_id" ON "message_relations"  ("message_id")
  [1m[36m (2.4ms)[0m  [1mALTER TABLE "message_relations" ADD CONSTRAINT "message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "message_relations" ADD CONSTRAINT "parent_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160919135432"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_relations'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (1.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.7ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.1ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.1ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 13:59:33.270770"], ["type_name", "inbox"], ["updated_at", "2016-09-19 13:59:33.270770"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 13:59:33.275716"], ["type_name", "sent"], ["updated_at", "2016-09-19 13:59:33.275716"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 13:59:33.277900"], ["type_name", "drafts"], ["updated_at", "2016-09-19 13:59:33.277900"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 13:59:33.279733"], ["type_name", "trash"], ["updated_at", "2016-09-19 13:59:33.279733"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 13:59:33.281475"], ["type_name", "spam"], ["updated_at", "2016-09-19 13:59:33.281475"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (116.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (115.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (275.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (317.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (31.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (4.4ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (5.3ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (5.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.5ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (2.5ms)[0m  COMMIT
Migrating to CreateMessageRelations (20160919130625)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.9ms)[0m  CREATE TABLE "message_relations" ("id" serial primary key, "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919130625"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddForeignKeysToMessageRelations (20160919135432)
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "message_relations" ADD COLUMN "message_id" integer[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_message_relations_on_message_id" ON "message_relations"  ("message_id")
  [1m[36m (2.3ms)[0m  [1mALTER TABLE "message_relations" ADD CONSTRAINT "message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "message_relations" ADD CONSTRAINT "parent_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160919135432"]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.2ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_relations'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.3ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (3.5ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.1ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.5ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:03:06.107622"], ["type_name", "inbox"], ["updated_at", "2016-09-19 14:03:06.107622"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 14:03:06.112580"], ["type_name", "sent"], ["updated_at", "2016-09-19 14:03:06.112580"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:03:06.115184"], ["type_name", "drafts"], ["updated_at", "2016-09-19 14:03:06.115184"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 14:03:06.117075"], ["type_name", "trash"], ["updated_at", "2016-09-19 14:03:06.117075"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:03:06.118830"], ["type_name", "spam"], ["updated_at", "2016-09-19 14:03:06.118830"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-09-19 14:05:14.187770"], ["updated_at", "2016-09-19 14:05:14.187770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (126.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.3ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (338.7ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (306.1ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (2.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (35.8ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (46.4ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (5.8ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (5.2ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (37.4ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (3.3ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to CreateMessageRelations (20160919141537)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (4.4ms)[0m  CREATE TABLE "message_relations" ("id" serial primary key, "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919141537"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddForeignKeysToMessageRelations (20160919145539)
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "message_relations" ADD COLUMN "message_id" integer[0m
  [1m[35m (3.3ms)[0m  CREATE  INDEX  "index_message_relations_on_message_id" ON "message_relations"  ("message_id")
  [1m[36m (3.8ms)[0m  [1mALTER TABLE "message_relations" ADD CONSTRAINT "message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)[0m
  [1m[35m (2.4ms)[0m  ALTER TABLE "message_relations" ADD CONSTRAINT "parent_message_id" FOREIGN KEY ("message_id") REFERENCES "messages"(id)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160919145539"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (3.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.5ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_relations'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (3.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.9ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.6ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.4ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:19:15.180554"], ["type_name", "inbox"], ["updated_at", "2016-09-19 14:19:15.180554"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 14:19:15.185109"], ["type_name", "sent"], ["updated_at", "2016-09-19 14:19:15.185109"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:19:15.186966"], ["type_name", "drafts"], ["updated_at", "2016-09-19 14:19:15.186966"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 14:19:15.188589"], ["type_name", "trash"], ["updated_at", "2016-09-19 14:19:15.188589"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:19:15.190281"], ["type_name", "spam"], ["updated_at", "2016-09-19 14:19:15.190281"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$JyNy7F52qcf507xlH8OIZ.wh03gLPQSl7fBL79Rh52.z.yZm0C7jW"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:21:50.489124"], ["updated_at", "2016-09-19 14:21:50.489124"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.6ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 14:22:30.392403"], ["message_id", 1], ["message_type_id", 1], ["updated_at", "2016-09-19 14:22:30.392403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 14:23:40.052095"], ["message_id", 1], ["message_type_id", 2], ["updated_at", "2016-09-19 14:23:40.052095"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 14:24:37.586848"], ["updated_at", "2016-09-19 14:24:37.586848"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "message_relations" ("created_at", "message_id", "parent_message_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 14:25:15.939668"], ["message_id", 2], ["parent_message_id", 1], ["updated_at", "2016-09-19 14:25:15.939668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[36m (275.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (112.4ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (439.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (336.2ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (46.5ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (5.1ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (4.0ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (23.9ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (22.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (1.9ms)[0m  [1mBEGIN[0m
  [1m[35m (62.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (4.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (9.5ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.1ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.3ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.1ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (1.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 15:51:47.607952"], ["type_name", "inbox"], ["updated_at", "2016-09-19 15:51:47.607952"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 15:51:47.616542"], ["type_name", "sent"], ["updated_at", "2016-09-19 15:51:47.616542"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 15:51:47.621861"], ["type_name", "drafts"], ["updated_at", "2016-09-19 15:51:47.621861"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 15:51:47.624197"], ["type_name", "trash"], ["updated_at", "2016-09-19 15:51:47.624197"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 15:51:47.626600"], ["type_name", "spam"], ["updated_at", "2016-09-19 15:51:47.626600"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$km8ngGRw1xvHorA15s/cieDtFRDSNXT2hh.gkloF0K7lyRFwwt8j6"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 15:52:28.659866"], ["updated_at", "2016-09-19 15:52:28.659866"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (0.4ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-19 15:53:05.568468"], ["message_id", 1], ["message_type_id", 1], ["updated_at", "2016-09-19 15:53:05.568468"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMessageType Load (1.3ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35mMessageType Load (0.3ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 15:56:36.021566"], ["message_id", 1], ["message_type_id", 2], ["updated_at", "2016-09-19 15:56:36.021566"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
PG::UndefinedColumn: ERROR:  column messages.message_id does not exist
LINE 1: SELECT  "messages".* FROM "messages"  WHERE "messages"."mess...
                                                    ^
: SELECT  "messages".* FROM "messages"  WHERE "messages"."message_id" = $1 LIMIT 1
PG::InFailedSqlTransaction: ERROR:  current transaction is aborted, commands ignored until end of transaction block
: SELECT  "messages".* FROM "messages"  WHERE "messages"."message_id" = $1 LIMIT 1
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"[0m  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$F6WRN6IfQlK9fO.hrvQ2suWplRxXfpx8.iJi.f/JoMlwhCd.uyhbW"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 15:58:42.601498"], ["updated_at", "2016-09-19 15:58:42.601498"], ["user_id", 2]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 15:59:16.968413"], ["message_id", 2], ["message_type_id", 1], ["updated_at", "2016-09-19 15:59:16.968413"]]
  [1m[36m (17.6ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 15:59:46.752712"], ["message_id", 2], ["message_type_id", 2], ["updated_at", "2016-09-19 15:59:46.752712"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
PG::UndefinedColumn: ERROR:  column messages.message_id does not exist
LINE 1: SELECT  "messages".* FROM "messages"  WHERE "messages"."mess...
                                                    ^
: SELECT  "messages".* FROM "messages"  WHERE "messages"."message_id" = $1 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1 LIMIT 1  [["parent_message_id", 2]]
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.4ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."id" = $1[0m  [["id", 2]]
  [1m[35mMessage Load (0.4ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36m (113.9ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (113.6ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (312.3ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (406.8ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (34.4ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (4.4ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (2.6ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.8ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (35.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (2.0ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (4.1ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.3ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.8ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.0ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.0ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (2.2ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 16:10:06.715217"], ["type_name", "inbox"], ["updated_at", "2016-09-19 16:10:06.715217"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 16:10:06.722378"], ["type_name", "sent"], ["updated_at", "2016-09-19 16:10:06.722378"]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 16:10:06.725604"], ["type_name", "drafts"], ["updated_at", "2016-09-19 16:10:06.725604"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 16:10:06.727501"], ["type_name", "trash"], ["updated_at", "2016-09-19 16:10:06.727501"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-19 16:10:06.729480"], ["type_name", "spam"], ["updated_at", "2016-09-19 16:10:06.729480"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"[0m  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$0M1Wz9OPlS2UomjPDU9uXez/R9HZAat9EkNyq1bU6pcFWMhNs2Soa"]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 16:10:41.931037"], ["updated_at", "2016-09-19 16:10:41.931037"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.3ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 16:11:10.631757"], ["message_id", 1], ["message_type_id", 1], ["updated_at", "2016-09-19 16:11:10.631757"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-19 16:11:43.109590"], ["message_id", 1], ["message_type_id", 2], ["updated_at", "2016-09-19 16:11:43.109590"]]
  [1m[36m (18.1ms)[0m  [1mCOMMIT[0m
  [1m[35mMessage Load (0.4ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."id" = $1  [["id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.6ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
PG::UndefinedColumn: ERROR:  column messages.message_id does not exist
LINE 1: SELECT "messages".* FROM "messages"  WHERE "messages"."messa...
                                                   ^
: SELECT "messages".* FROM "messages"  WHERE "messages"."message_id" = $1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."id" = $1[0m  [["id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "messages" ("created_at", "id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-19 16:13:33.002466"], ["id", 1], ["updated_at", "2016-09-19 16:13:33.002466"]]
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "messages_pkey"
DETAIL:  Key (id)=(1) already exists.
: INSERT INTO "messages" ("created_at", "id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (343.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.2ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (720.0ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (413.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36m (31.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (4.4ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160629143958)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629143958"]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateMessageTypes (20160629165702)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (35.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20160629165702"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20160719134445)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications"  ("uid")
  [1m[36m (3.8ms)[0m  [1mCREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants"  ("token")
  [1m[36m (69.1ms)[0m  [1mCREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) [0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens"  ("token")
  [1m[36m (42.9ms)[0m  [1mCREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens"  ("resource_owner_id")[0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens"  ("refresh_token")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160719134445"]]
  [1m[35m (1.7ms)[0m  COMMIT
Migrating to AddDeviseToUsers (20160727123712)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (8.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160727123712"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddUserToMessages (20160917143639)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (32.7ms)[0m  ALTER TABLE "messages" ADD COLUMN "user_id" integer
  [1m[36m (4.2ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35m (3.3ms)[0m  ALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160917143639"]]
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreateMessageCategories (20160919024651)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35m (28.5ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160919024651"]]
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_categories'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.3ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'message_types'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'messages'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (6.3ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_grants'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (4.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_access_tokens'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (2.4ms)[0m  [1m
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'oauth_applications'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        [0m
  [1m[35m (3.7ms)[0m  
          SELECT t2.relname AS to_table
               , a1.attname AS column
               , a2.attname AS primary_key
               , c.conname AS name
               , c.confdeltype AS dependency
               , c.confupdtype AS update_dependency
               , c.condeferrable AS deferrable
               , c.condeferred AS deferred
            , c.convalidated AS valid
          FROM pg_constraint c
          JOIN pg_class t1 ON c.conrelid = t1.oid
          JOIN pg_class t2 ON c.confrelid = t2.oid
          JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
          JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
          JOIN pg_namespace t3 ON c.connamespace = t3.oid
          WHERE c.contype = 'f'
            AND t1.relname = 'users'
            AND t3.nspname = ANY (current_schemas(false))
          ORDER BY c.conname
        
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"[0m  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$4byEhaEkLEQUgWIzigYT..7y/taz9QCypRiSpnH/dUhEMU7oLyU6O"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:53:50.317725"], ["updated_at", "2016-09-20 02:53:50.317725"], ["user_id", 1]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.5ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:54:17.404419"], ["message_id", 1], ["updated_at", "2016-09-20 02:54:17.404419"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:54:57.607168"], ["type_name", "inbox"], ["updated_at", "2016-09-20 02:54:57.607168"]]
  [1m[35m (3.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:54:57.615399"], ["type_name", "sent"], ["updated_at", "2016-09-20 02:54:57.615399"]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:54:57.619621"], ["type_name", "drafts"], ["updated_at", "2016-09-20 02:54:57.619621"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:54:57.623550"], ["type_name", "trash"], ["updated_at", "2016-09-20 02:54:57.623550"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:54:57.625621"], ["type_name", "spam"], ["updated_at", "2016-09-20 02:54:57.625621"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (105.4ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (105.1ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (305.4ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (520.8ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (30.4ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (49.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (121.6ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (4.7ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (10.7ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (24.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (43.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (4.6ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (35.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (21.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (3.7ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (31.7ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (1.1ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (149.0ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (94.1ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (92.0ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (5.0ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (84.8ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (31.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (18.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (28.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (110.4ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (29.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (20.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (5.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (123.5ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (4.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (26.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:55:07.193988"], ["type_name", "inbox"], ["updated_at", "2016-09-20 02:55:07.193988"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:55:07.226737"], ["type_name", "sent"], ["updated_at", "2016-09-20 02:55:07.226737"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:55:07.229105"], ["type_name", "drafts"], ["updated_at", "2016-09-20 02:55:07.229105"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:55:07.231350"], ["type_name", "trash"], ["updated_at", "2016-09-20 02:55:07.231350"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:55:07.235995"], ["type_name", "spam"], ["updated_at", "2016-09-20 02:55:07.235995"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:55:11.050834"], ["type_name", "inbox"], ["updated_at", "2016-09-20 02:55:11.050834"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:55:11.054698"], ["type_name", "sent"], ["updated_at", "2016-09-20 02:55:11.054698"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:55:11.056327"], ["type_name", "drafts"], ["updated_at", "2016-09-20 02:55:11.056327"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:55:11.058108"], ["type_name", "trash"], ["updated_at", "2016-09-20 02:55:11.058108"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 02:55:11.062557"], ["type_name", "spam"], ["updated_at", "2016-09-20 02:55:11.062557"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password") VALUES ($1, $2) RETURNING "id"[0m  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$Iv.PNcm3Pl7vbMkBn31Dh.Q7JW9yk9pzXqpzpopfeqLm/eQl9KgIC"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (40.3ms)[0m  INSERT INTO "messages" ("created_at", "updated_at", "user_id") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 02:55:38.436374"], ["updated_at", "2016-09-20 02:55:38.436374"], ["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (71.2ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-20 02:56:05.170294"], ["message_id", 1], ["message_type_id", 1], ["updated_at", "2016-09-20 02:56:05.170294"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.3ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'sent'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-20 02:56:33.175390"], ["message_id", 1], ["message_type_id", 2], ["updated_at", "2016-09-20 02:56:33.175390"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."id" = $1  [["id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.7ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
PG::UndefinedColumn: ERROR:  column messages.parent_id does not exist
LINE 1: SELECT "messages".* FROM "messages"  WHERE "messages"."paren...
                                                   ^
: SELECT "messages".* FROM "messages"  WHERE "messages"."parent_id" = $1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.6ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1[0m  [["parent_message_id", 1]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "messages" ("created_at", "parent_message_id", "to", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-20 02:58:49.279835"], ["parent_message_id", 1], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-20 02:58:49.279835"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  [["user_id", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.7ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1[0m  [["parent_message_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (2.8ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "messages" ("created_at", "parent_message_id", "to", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2016-09-20 03:23:12.028382"], ["parent_message_id", 1], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-20 03:23:12.028382"], ["user_id", 1]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1 AND "messages"."parent_message_id" IS NULL  [["user_id", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1[0m  [["parent_message_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (1.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  ORDER BY "messages"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1  [["parent_message_id", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1[0m  [["parent_message_id", 2]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = $1  [["id", 2]]
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."parent_message_id" = $1[0m  [["parent_message_id", 3]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = $1  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 1]]
  [1m[35m (62.1ms)[0m  COMMIT
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mMessage Load (0.4ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36mMessageType Load (81.2ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."message_type" = 0[0m
PG::UndefinedColumn: ERROR:  column message_types.message_type does not exist
LINE 1: ...ECT "message_types".* FROM "message_types"  WHERE "message_t...
                                                             ^
: SELECT "message_types".* FROM "message_types"  WHERE "message_types"."message_type" = 0
  [1m[36mMessageType Load (35.5ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 0[0m
PG::UndefinedFunction: ERROR:  operator does not exist: character varying = integer
LINE 1: ... FROM "message_types"  WHERE "message_types"."type_name" = 0
                                                                    ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
: SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 0
  [1m[35mMessageType Load (0.4ms)[0m  SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 1
PG::UndefinedFunction: ERROR:  operator does not exist: character varying = integer
LINE 1: ... FROM "message_types"  WHERE "message_types"."type_name" = 1
                                                                    ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
: SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 1
  [1m[36mMessageType Load (1.0ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = '1'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35mMessageType Load (0.4ms)[0m  SELECT "message_types".* FROM "message_types"
  [1m[36mMessageType Load (1.1ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type" = 1[0m
PG::UndefinedColumn: ERROR:  column message_types.type does not exist
LINE 1: ...ECT "message_types".* FROM "message_types"  WHERE "message_t...
                                                             ^
: SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type" = 1
  [1m[36mMessageType Load (0.7ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 1[0m
PG::UndefinedFunction: ERROR:  operator does not exist: character varying = integer
LINE 1: ... FROM "message_types"  WHERE "message_types"."type_name" = 1
                                                                    ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
: SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 1
  [1m[36mMessageType Load (0.9ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type" = 1[0m
PG::UndefinedColumn: ERROR:  column message_types.type does not exist
LINE 1: ...ECT "message_types".* FROM "message_types"  WHERE "message_t...
                                                             ^
: SELECT "message_types".* FROM "message_types"  WHERE "message_types"."type" = 1
  [1m[35mMessageType Load (0.4ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type" = 1) LIMIT 1
PG::UndefinedColumn: ERROR:  column message_types.type does not exist
LINE 1: ... "message_types"."id" FROM "message_types"  WHERE "message_t...
                                                             ^
: SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type" = 1) LIMIT 1
  [1m[36mMessageType Load (0.5ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMessageType Load (0.4ms)[0m  SELECT "message_types".* FROM "message_types"
  [1m[36mMessageType Load (0.6ms)[0m  [1mSELECT "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'[0m
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "messages" ("body", "created_at", "from", "subject", "to", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["body", "Hi or perlman,\n\n        Thank you for signing up to use the MailOnRails email service.\n\n        We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n        from which you could do everything that is needed for your daily work.\n\n        We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-20 06:53:34.491964"], ["from", "admin@mailonrails.com"], ["subject", "Welcome to MailOnRails"], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-20 06:53:34.491964"], ["user_id", 1]]
  [1m[35m (36.6ms)[0m  COMMIT
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com@mailonrails.com' LIMIT 1[0m
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mMessage Load (0.4ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  [["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "messages" ("body", "created_at", "from", "subject", "to", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["body", "Hi Or Perlman,\n\n        Thank you for signing up to use the MailOnRails email service.\n\n        We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n        from which you could do everything that is needed for your daily work.\n\n        We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-20 06:55:23.474230"], ["from", "admin@mailonrails.com"], ["subject", "Welcome to MailOnRails"], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-20 06:55:23.474230"], ["user_id", 1]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (0.9ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-20 06:55:23.501627"], ["message_id", 5], ["message_type_id", 1], ["updated_at", "2016-09-20 06:55:23.501627"]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mMessage Load (0.4ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE "users"."id" = 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"  WHERE "users"."email" = '{username}#@{domain})'
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mMessage Load (0.4ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "message_categories"
LINE 1: ... "messages"  WHERE "messages"."user_id" = $1 AND (message_ca...
                                                             ^
: SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1 AND (message_categories.inbox)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  [["user_id", 1]]
  [1m[36mMessageCategory Load (0.3ms)[0m  [1mSELECT "message_categories".* FROM "message_categories"  WHERE "message_categories"."message_id" IN (5, 4)[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1
PG::UndefinedColumn: ERROR:  column messages.message_type_id does not exist
LINE 1: ...M "messages"  WHERE "messages"."user_id" = $1 AND "messages"...
                                                             ^
: SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1 AND "messages"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com'  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')  [["user_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')  [["user_id", 1]]
  [1m[36mMessage Load (43.4ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[36m (624.0ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (500.6ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (2090.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (338.3ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (8.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (211.0ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (23.8ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (149.0ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (44.4ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (36.8ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (5.8ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (45.0ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (76.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (132.8ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (5.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (34.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (24.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (134.7ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (82.7ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (3.8ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (57.6ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (84.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (5.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (8.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (79.7ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (2.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (44.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:24:58.065543"], ["type_name", "inbox"], ["updated_at", "2016-09-20 11:24:58.065543"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:24:58.113175"], ["type_name", "sent"], ["updated_at", "2016-09-20 11:24:58.113175"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:24:58.115185"], ["type_name", "drafts"], ["updated_at", "2016-09-20 11:24:58.115185"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:24:58.116912"], ["type_name", "trash"], ["updated_at", "2016-09-20 11:24:58.116912"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:24:58.118442"], ["type_name", "spam"], ["updated_at", "2016-09-20 11:24:58.118442"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:25:05.265118"], ["type_name", "inbox"], ["updated_at", "2016-09-20 11:25:05.265118"]]
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:25:05.273786"], ["type_name", "sent"], ["updated_at", "2016-09-20 11:25:05.273786"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:25:05.278035"], ["type_name", "drafts"], ["updated_at", "2016-09-20 11:25:05.278035"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:25:05.281965"], ["type_name", "trash"], ["updated_at", "2016-09-20 11:25:05.281965"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:25:05.284037"], ["type_name", "spam"], ["updated_at", "2016-09-20 11:25:05.284037"]]
  [1m[35m (0.4ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 14:25:18 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
Completed 500 Internal Server Error in 73ms (ActiveRecord: 5.3ms)

NoMethodError (undefined method `email' for nil:NilClass):
  app/helpers/user_helper.rb:4:in `email_exists?'
  app/controllers/users_controller.rb:48:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 14:25:21 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
Unpermitted parameters: username
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.9ms)

NoMethodError (undefined method `email' for nil:NilClass):
  app/helpers/user_helper.rb:4:in `email_exists?'
  app/controllers/users_controller.rb:48:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.9ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 14:26:14 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
Completed 500 Internal Server Error in 8854ms (ActiveRecord: 2.9ms)

NoMethodError (undefined method `email' for nil:NilClass):
  app/helpers/user_helper.rb:4:in `email_exists?'
  app/controllers/users_controller.rb:48:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 14:26:56 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (2.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Completed 500 Internal Server Error in 17843ms (ActiveRecord: 5.8ms)

SystemExit (exit):
  app/helpers/user_helper.rb:5:in `email_exists?'
  app/controllers/users_controller.rb:48:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (38.4ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 14:27:21 +0300
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Completed 500 Internal Server Error in 42602ms (ActiveRecord: 5.2ms)

SystemExit (exit):
  app/helpers/user_helper.rb:5:in `email_exists?'
  app/controllers/users_controller.rb:48:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.8ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 14:28:09 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 158ms (Views: 129.5ms | ActiveRecord: 5.5ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 14:28:14 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
Unpermitted parameters: username
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$UN8HA.xwHUWUfMLqpdFx4OVu/vvasC1Psd92NEbQFYlR1l4FtT2xC"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (26.8ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.6ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'dc029e6270b089eaa2d447d4ec39ab1bb2a940d99e2b0288aedd0c7e26038a5c' LIMIT 1
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:15.250511"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "621d8331cc109f1254dc01ea4623240382a7e7cf47d02e6bba14182e1dac4739"], ["uid", "dc029e6270b089eaa2d447d4ec39ab1bb2a940d99e2b0288aedd0c7e26038a5c"], ["updated_at", "2016-09-20 11:28:15.250511"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '0db07aaec2eaf88e81114d55de60ae57143dae6d31274aeb1c68e062910b89a9' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.6ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'a1f4649b63600ff198bb8d87c0ceee9d42f7711cea161fd0d04bd247846e0db1' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-20 11:28:15.299274"], ["expires_in", 7200], ["refresh_token", "a1f4649b63600ff198bb8d87c0ceee9d42f7711cea161fd0d04bd247846e0db1"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "0db07aaec2eaf88e81114d55de60ae57143dae6d31274aeb1c68e062910b89a9"]]
  [1m[35m (0.6ms)[0m  COMMIT
Completed 500 Internal Server Error in 304ms (ActiveRecord: 85.7ms)

NameError (undefined local variable or method `first_name' for #<UsersController:0x007f3f5c2b24b8>):
  app/controllers/users_controller.rb:23:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.5ms)
  [1m[36m (108.5ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (109.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (374.9ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (444.6ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (62.5ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (39.3ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (55.1ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.2ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (3.2ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.7ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (95.5ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (9.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.9ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (11.3ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (25.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (43.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (6.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (27.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (37.2ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (7.2ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (4.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:35.360705"], ["type_name", "inbox"], ["updated_at", "2016-09-20 11:28:35.360705"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:28:35.364084"], ["type_name", "sent"], ["updated_at", "2016-09-20 11:28:35.364084"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:35.366210"], ["type_name", "drafts"], ["updated_at", "2016-09-20 11:28:35.366210"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:28:35.368866"], ["type_name", "trash"], ["updated_at", "2016-09-20 11:28:35.368866"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:35.370880"], ["type_name", "spam"], ["updated_at", "2016-09-20 11:28:35.370880"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:38.211147"], ["type_name", "inbox"], ["updated_at", "2016-09-20 11:28:38.211147"]]
  [1m[35m (26.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:28:38.241303"], ["type_name", "sent"], ["updated_at", "2016-09-20 11:28:38.241303"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:38.243308"], ["type_name", "drafts"], ["updated_at", "2016-09-20 11:28:38.243308"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 11:28:38.245090"], ["type_name", "trash"], ["updated_at", "2016-09-20 11:28:38.245090"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 11:28:38.246924"], ["type_name", "spam"], ["updated_at", "2016-09-20 11:28:38.246924"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (173.6ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (162.5ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (392.2ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (375.5ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (2.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (108.2ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (9.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (38.9ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (4.4ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (39.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (6.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (65.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (31.5ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.7ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (74.5ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (41.3ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (5.2ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (8.3ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.0ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (75.4ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (54.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (25.2ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (19.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:27:46.161201"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:27:46.161201"]]
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:27:46.167426"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:27:46.167426"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:27:46.169896"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:27:46.169896"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:27:46.172828"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:27:46.172828"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (5.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:27:46.180162"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:27:46.180162"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:27:50.305851"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:27:50.305851"]]
  [1m[35m (41.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:27:50.350343"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:27:50.350343"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:27:50.352274"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:27:50.352274"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:27:50.353659"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:27:50.353659"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:27:50.355054"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:27:50.355054"]]
  [1m[35m (0.5ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:28:03 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.4ms)

NoMethodError (undefined method `find_by_username' for #<Class:0x00000006d67bc0>):
  app/helpers/user_helper.rb:3:in `email_exists?'
  app/controllers/users_controller.rb:48:in `email_exists'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.2ms)
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:30:40 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 72ms (Views: 39.0ms | ActiveRecord: 4.1ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:32:13 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 16ms (Views: 7.3ms | ActiveRecord: 3.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:32:26 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 62ms (Views: 36.5ms | ActiveRecord: 4.6ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:32:42 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 200 OK in 40447ms (Views: 5.7ms | ActiveRecord: 4.1ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:33:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
Unpermitted parameters: username
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '245e88412461ef5cfbbe7d1248067b3b10b8276c617b40d714adbbf02590bd0b' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-20 14:33:57.299583"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "1217c26277cb6d8445d72a38fc808e324be81bd821710f7abb73c8759e12a488"], ["uid", "245e88412461ef5cfbbe7d1248067b3b10b8276c617b40d714adbbf02590bd0b"], ["updated_at", "2016-09-20 14:33:57.299583"]]
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.2ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '2c933e1d1b775fa404cdbd88f2e7ec733fa6909d675a33b9c7adceda6f263a14' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '7e2bea8a85d9718c3b8ecd0aea846cbcb1ef61532f27017c6443a1d638f6f9e2' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-20 14:33:57.343010"], ["expires_in", 7200], ["refresh_token", "7e2bea8a85d9718c3b8ecd0aea846cbcb1ef61532f27017c6443a1d638f6f9e2"], ["scopes", "public write preferences"], ["token", "2c933e1d1b775fa404cdbd88f2e7ec733fa6909d675a33b9c7adceda6f263a14"]]
  [1m[35m (0.7ms)[0m  COMMIT
Completed 500 Internal Server Error in 383ms (ActiveRecord: 24.8ms)

NameError (undefined local variable or method `first_name' for #<UsersController:0x007f2b0410b6a8>):
  app/controllers/users_controller.rb:23:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.1ms)
  [1m[36m (128.0ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (130.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (423.1ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (339.7ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (34.4ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (4.7ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (5.2ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (1.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (35.9ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (8.8ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (52.4ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (11.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (49.7ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (30.0ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (5.1ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (29.0ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.7ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (9.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (32.8ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.5ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.6ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (2.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:34:25.504264"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:34:25.504264"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:34:25.507331"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:34:25.507331"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:34:25.509210"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:34:25.509210"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:34:25.511192"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:34:25.511192"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:34:25.512979"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:34:25.512979"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:34:31.725902"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:34:31.725902"]]
  [1m[35m (22.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:34:31.751904"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:34:31.751904"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:34:31.753774"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:34:31.753774"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:34:31.755223"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:34:31.755223"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:34:31.756672"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:34:31.756672"]]
  [1m[35m (0.5ms)[0m  COMMIT


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:34:39 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.6ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = 'e6e920e256a287acbd2625a88d99488607432627f77f0401f7badf2f249dadfc' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-09-20 14:34:39.798273"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "58081fccca15baa11d9d7a9268f287271d38c1233771baa4945f33d97aecfc35"], ["uid", "e6e920e256a287acbd2625a88d99488607432627f77f0401f7badf2f249dadfc"], ["updated_at", "2016-09-20 14:34:39.798273"]]
  [1m[36m (49.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (1.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'da42a09d520ca6868035b2f5351bdf7a0ca31a754616148b670af7a87c02ef8a' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'e9cb7fdcb3a7eeb1753f3985fa2da0cf1264be5141ba46acc852bc9fef450f1c' LIMIT 1[0m
  [1m[35mSQL (15.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-09-20 14:34:39.885824"], ["expires_in", 7200], ["refresh_token", "e9cb7fdcb3a7eeb1753f3985fa2da0cf1264be5141ba46acc852bc9fef450f1c"], ["scopes", "public write preferences"], ["token", "da42a09d520ca6868035b2f5351bdf7a0ca31a754616148b670af7a87c02ef8a"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 36127ms (ActiveRecord: 83.1ms)

NameError (undefined local variable or method `first_name' for #<UsersController:0x007f3d582bc8d8>):
  app/controllers/users_controller.rb:24:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (31.5ms)
  [1m[36m (144.1ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (111.6ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (445.8ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (307.0ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (55.6ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (21.8ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (37.6ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (5.6ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (6.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.7ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.2ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (45.2ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.0ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (3.3ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (5.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (6.3ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (2.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (4.4ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:35:38.756322"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:35:38.756322"]]
  [1m[35m (6.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:35:38.768031"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:35:38.768031"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:35:38.770454"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:35:38.770454"]]
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:35:38.773737"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:35:38.773737"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:35:38.775957"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:35:38.775957"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:35:43.483396"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:35:43.483396"]]
  [1m[35m (24.0ms)[0m  COMMIT
  [1m[36m (1.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:35:43.513350"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:35:43.513350"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:35:43.516478"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:35:43.516478"]]
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:35:43.520476"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:35:43.520476"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:35:43.523080"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:35:43.523080"]]
  [1m[35m (0.6ms)[0m  COMMIT


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:35:50 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.8ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '66cb2324e737e8d6bcc9fa7acc1ca542c834f7569e692e9cf44b9eabefff911b' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", "2016-09-20 14:35:50.386798"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "1951f9ba20da51375371576065f23d80620e8750688020f8fd494c6b1dd3ded5"], ["uid", "66cb2324e737e8d6bcc9fa7acc1ca542c834f7569e692e9cf44b9eabefff911b"], ["updated_at", "2016-09-20 14:35:50.386798"]]
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (1.0ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '672ea24e53766db732c6b3b0b821a9879c36ab737d3ee219da8bd5ff7b6e1e61' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '18d55d848cea487dbda9bf0c323d2c97873894ba6b73676626a23f9569af5a24' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-09-20 14:35:50.442380"], ["expires_in", 7200], ["refresh_token", "18d55d848cea487dbda9bf0c323d2c97873894ba6b73676626a23f9569af5a24"], ["scopes", "public write preferences"], ["token", "672ea24e53766db732c6b3b0b821a9879c36ab737d3ee219da8bd5ff7b6e1e61"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 240ms (ActiveRecord: 28.8ms)

NameError (undefined local variable or method `first_name' for #<UsersController:0x007fc6f02bc7d0>):
  app/controllers/users_controller.rb:23:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.2ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.8ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:36:22 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.7ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (1.2ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (1.0ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'ffcea3fbae390cfb0395b0de72a4664514a0cb2e01672287d0a82952ad322093' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '18a3b9cfc5b2e2c18d407cf1dcecfe8f7c6db049cfb6ad85829968bb5f127963' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-09-20 14:36:23.022747"], ["expires_in", 7200], ["refresh_token", "18a3b9cfc5b2e2c18d407cf1dcecfe8f7c6db049cfb6ad85829968bb5f127963"], ["scopes", "public write preferences"], ["token", "ffcea3fbae390cfb0395b0de72a4664514a0cb2e01672287d0a82952ad322093"]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 236ms (ActiveRecord: 19.5ms)

NameError (undefined local variable or method `first_name' for #<UsersController:0x007f81842c1fe8>):
  app/controllers/users_controller.rb:23:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.9ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:36:54 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.3ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.4ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'b4b2ae7acab7f354ce9b88a27ea3070db802a606dbcbdefc3a1e71f5a57e9c4c' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '1e06d7b066c705893dbb8d7d7524a6291580639e6193ab08b5c6945a1255a570' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-09-20 14:36:54.736990"], ["expires_in", 7200], ["refresh_token", "1e06d7b066c705893dbb8d7d7524a6291580639e6193ab08b5c6945a1255a570"], ["scopes", "public write preferences"], ["token", "b4b2ae7acab7f354ce9b88a27ea3070db802a606dbcbdefc3a1e71f5a57e9c4c"]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.49ms)
Completed 201 Created in 120ms (Views: 11.0ms | ActiveRecord: 11.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:38:06 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 200 OK in 21ms (Views: 12.5ms | ActiveRecord: 2.5ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:38:11 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mDoorkeeper::Application Load (0.4ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDoorkeeper::Application Load (0.5ms)[0m  [1mSELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1[0m  [["id", 375]]
  [1m[35mDoorkeeper::AccessToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '5d7a68a988e90e7e6ce909150c63a006ab6cb522684ce84c642ac9b88bfdb9a5' LIMIT 1
  [1m[36mDoorkeeper::AccessToken Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = '0eaf9aacc323d9d4a34acd862e441e7295548445ffff51360daa0411f23484aa' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["application_id", 375], ["created_at", "2016-09-20 14:38:11.833753"], ["expires_in", 7200], ["refresh_token", "0eaf9aacc323d9d4a34acd862e441e7295548445ffff51360daa0411f23484aa"], ["scopes", "public write preferences"], ["token", "5d7a68a988e90e7e6ce909150c63a006ab6cb522684ce84c642ac9b88bfdb9a5"]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.36ms)
Completed 201 Created in 32724ms (Views: 2.4ms | ActiveRecord: 9.3ms)


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:38:51 +0300
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 200 OK in 21ms (Views: 6.3ms | ActiveRecord: 3.6ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:38:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 306256ms (ActiveRecord: 2.3ms)

SystemExit (exit):
  app/controllers/users_controller.rb:20:in `create'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (32.4ms)
  [1m[36m (112.7ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (106.0ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (376.0ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (294.8ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (3.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (3.1ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.4ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.3ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (5.0ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (5.8ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.5ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (2.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (9.5ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (3.1ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:10.503815"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:44:10.503815"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:44:10.510363"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:44:10.510363"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:10.515003"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:44:10.515003"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:44:10.517113"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:44:10.517113"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:10.518688"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:44:10.518688"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:14.193048"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:44:14.193048"]]
  [1m[35m (46.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:44:14.244604"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:44:14.244604"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:14.246787"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:44:14.246787"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:44:14.248511"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:44:14.248511"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:14.250460"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:44:14.250460"]]
  [1m[35m (0.4ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:44:21 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 71ms (Views: 43.3ms | ActiveRecord: 4.5ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:44:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl' LIMIT 1[0m
Unpermitted parameters: username
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$7kojjqwPHSkLjAgGToEDDuWdRpsVLZ7bJOhvuWg7mQaRkYLOUC5xq"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.8ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.5ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '09afaae3a71b7fc40c3bcda5e269d05a98bb1a7cf1b6b7e958ebe11c5ab3efeb' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:26.398658"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "0e8063a4c766fd51a29680950fb92af2e13c0dd8f22225e699da5bde6aa3922e"], ["uid", "09afaae3a71b7fc40c3bcda5e269d05a98bb1a7cf1b6b7e958ebe11c5ab3efeb"], ["updated_at", "2016-09-20 14:44:26.398658"]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (1.3ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = '75ac80c32480b987e7767c0535aea1634a2fb85190fda57ad61aaa7fda4e5d23' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (0.3ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'ce21e4a22192d9fc2bc7908eb962db44e78fcc27d3a3a8ff2b5362b57e5f9f3e' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-20 14:44:26.445447"], ["expires_in", 7200], ["refresh_token", "ce21e4a22192d9fc2bc7908eb962db44e78fcc27d3a3a8ff2b5362b57e5f9f3e"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "75ac80c32480b987e7767c0535aea1634a2fb85190fda57ad61aaa7fda4e5d23"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "messages" ("body", "created_at", "from", "subject", "to", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["body", "Hi Or Perlman,\n\n            Thank you for signing up to use the MailOnRails email service.\n\n            We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n            from which you could do everything that is needed for your daily work.\n\n            We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-20 14:44:38.786155"], ["from", "admin@mailonrails.com"], ["subject", "Welcome to MailOnRails"], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-20 14:44:38.786155"], ["user_id", 1]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mMessageType Load (0.8ms)[0m  [1mSELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2016-09-20 14:44:38.821397"], ["message_id", 1], ["message_type_id", 1], ["updated_at", "2016-09-20 14:44:38.821397"]]
  [1m[35m (0.6ms)[0m  COMMIT
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.52ms)
Completed 201 Created in 12563ms (Views: 1.5ms | ActiveRecord: 28.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."user_id" = $1  [["user_id", 1]]
  [1m[36m (110.0ms)[0m  [1mDROP DATABASE IF EXISTS "mail_on_rails_development"[0m
  [1m[35m (110.9ms)[0m  DROP DATABASE IF EXISTS "mail_on_rails_test"
  [1m[36m (300.4ms)[0m  [1mCREATE DATABASE "mail_on_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (345.6ms)[0m  CREATE DATABASE "mail_on_rails_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (5.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (5.1ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (5.3ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (5.2ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (1.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.6ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.7ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.4ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "message_categories" ("id" serial primary key, "message_type_id" integer, "created_at" timestamp, "updated_at" timestamp, "message_id" integer) 
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "message_types" ("id" serial primary key, "type_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "from" character varying(254), "to" character varying(254), "bcc" character varying(254), "cc" character varying(254), "subject" character varying(78), "body" text, "is_read" boolean DEFAULT 'f', "parent_message_id" integer, "created_at" timestamp, "updated_at" timestamp, "user_id" integer) 
  [1m[36m (2.7ms)[0m  [1mCREATE  INDEX  "index_messages_on_user_id" ON "messages" USING btree ("user_id")[0m
  [1m[35m (5.4ms)[0m  CREATE TABLE "oauth_access_grants" ("id" serial primary key, "resource_owner_id" integer NOT NULL, "application_id" integer NOT NULL, "token" character varying(255) NOT NULL, "expires_in" integer NOT NULL, "redirect_uri" text NOT NULL, "created_at" timestamp NOT NULL, "revoked_at" timestamp, "scopes" character varying(255)) 
  [1m[36m (2.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_grants_on_token" ON "oauth_access_grants" USING btree ("token")[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "oauth_access_tokens" ("id" serial primary key, "resource_owner_id" integer, "application_id" integer, "token" character varying(255) NOT NULL, "refresh_token" character varying(255), "expires_in" integer, "revoked_at" timestamp, "created_at" timestamp NOT NULL, "scopes" character varying(255)) 
  [1m[36m (4.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_refresh_token" ON "oauth_access_tokens" USING btree ("refresh_token")[0m
  [1m[35m (2.7ms)[0m  CREATE  INDEX  "index_oauth_access_tokens_on_resource_owner_id" ON "oauth_access_tokens" USING btree ("resource_owner_id")
  [1m[36m (3.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_access_tokens_on_token" ON "oauth_access_tokens" USING btree ("token")[0m
  [1m[35m (45.6ms)[0m  CREATE TABLE "oauth_applications" ("id" serial primary key, "name" character varying(255) NOT NULL, "uid" character varying(255) NOT NULL, "secret" character varying(255) NOT NULL, "redirect_uri" text NOT NULL, "scopes" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_oauth_applications_on_uid" ON "oauth_applications" USING btree ("uid")[0m
  [1m[35m (4.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "first_name" character varying(35), "last_name" character varying(35)) 
  [1m[36m (2.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (2.7ms)[0m  [1mALTER TABLE "messages" ADD CONSTRAINT "messages_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "users"(id)[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.7ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160919024651')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160629143958')
  [1m[36m (23.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160629165702')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160727123712')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160917143639')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160719134445')
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:28.205151"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:53:28.205151"]]
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:53:28.210771"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:53:28.210771"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:28.214116"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:53:28.214116"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:53:28.216327"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:53:28.216327"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:28.218545"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:53:28.218545"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:36.783259"], ["type_name", "inbox"], ["updated_at", "2016-09-20 14:53:36.783259"]]
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:53:36.794365"], ["type_name", "sent"], ["updated_at", "2016-09-20 14:53:36.794365"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:36.798243"], ["type_name", "drafts"], ["updated_at", "2016-09-20 14:53:36.798243"]]
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", "2016-09-20 14:53:36.800232"], ["type_name", "trash"], ["updated_at", "2016-09-20 14:53:36.800232"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "message_types" ("created_at", "type_name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:36.802593"], ["type_name", "spam"], ["updated_at", "2016-09-20 14:53:36.802593"]]
  [1m[35m (0.6ms)[0m  COMMIT


Started POST "/users/email_exists" for 127.0.0.1 at 2016-09-20 17:53:47 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#email_exists as HTML
  Parameters: {"username"=>"orperl"}
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1
Unpermitted parameters: username
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 200 OK in 70ms (Views: 43.9ms | ActiveRecord: 5.2ms)


Started POST "/users" for 127.0.0.1 at 2016-09-20 17:53:52 +0300
Processing by UsersController#create as HTML
  Parameters: {"first_name"=>"Or", "last_name"=>"Perlman", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "username"=>"orperl"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'orperl' LIMIT 1[0m
Unpermitted parameters: username
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'orperl@mailonrails.com' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "orperl@mailonrails.com"], ["encrypted_password", "$2a$10$lMZ5HEgz1K.IQc.xZ4DOrOyngJX2LAN/c8c4hyHQ7Wh8RZM4NK4Pa"], ["first_name", "Or"], ["last_name", "Perlman"]]
  [1m[36m (24.5ms)[0m  [1mCOMMIT[0m
  [1m[35mDoorkeeper::Application Load (0.7ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."name" = 'MailOnRails' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Exists (0.6ms)[0m  SELECT  1 AS one FROM "oauth_applications"  WHERE "oauth_applications"."uid" = '95b344eee812de2c38eff7a75ccf042381cab28c229be7e2740c8e11b619b43d' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "oauth_applications" ("created_at", "name", "redirect_uri", "secret", "uid", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2016-09-20 14:53:52.203474"], ["name", "MailOnRails"], ["redirect_uri", "http://mailonrails.com:9000/mail"], ["secret", "03111eb366a1580e619008722689059ed5c2b8f3ae62efe1815476bc42941ad7"], ["uid", "95b344eee812de2c38eff7a75ccf042381cab28c229be7e2740c8e11b619b43d"], ["updated_at", "2016-09-20 14:53:52.203474"]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mDoorkeeper::Application Load (0.4ms)[0m  SELECT  "oauth_applications".* FROM "oauth_applications"  WHERE "oauth_applications"."id" = $1 LIMIT 1  [["id", 375]]
  [1m[36mDoorkeeper::AccessToken Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."token" = 'b8e287aa4083d09b0c41f9fc0576d9cbf524bb19346729b22cab6041bdb13838' LIMIT 1[0m
  [1m[35mDoorkeeper::AccessToken Exists (1.1ms)[0m  SELECT  1 AS one FROM "oauth_access_tokens"  WHERE "oauth_access_tokens"."refresh_token" = 'f0262b46eb53483e2b9941a837361048651f4344f2d30e90a29127e9d279f27a' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "oauth_access_tokens" ("application_id", "created_at", "expires_in", "refresh_token", "resource_owner_id", "scopes", "token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["application_id", 375], ["created_at", "2016-09-20 14:53:52.258084"], ["expires_in", 7200], ["refresh_token", "f0262b46eb53483e2b9941a837361048651f4344f2d30e90a29127e9d279f27a"], ["resource_owner_id", 1], ["scopes", "public write preferences"], ["token", "b8e287aa4083d09b0c41f9fc0576d9cbf524bb19346729b22cab6041bdb13838"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "messages" ("body", "created_at", "from", "subject", "to", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["body", "Hi Or Perlman,\n\n        Thank you for signing up to use the MailOnRails email service.\n\n        We founded MailOnRails because we wanted to create a trustworthy and inspiring email client \n        from which you could do everything that is needed for your daily work.\n\n        We hope you will enjoy the service and recommend it to your friends."], ["created_at", "2016-09-20 14:53:52.308652"], ["from", "admin@mailonrails.com"], ["subject", "Welcome to MailOnRails"], ["to", "orperl@mailonrails.com"], ["updated_at", "2016-09-20 14:53:52.308652"], ["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mMessageType Load (1.1ms)[0m  SELECT  "message_types".* FROM "message_types"  WHERE "message_types"."type_name" = 'inbox'  ORDER BY "message_types"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "message_categories" ("created_at", "message_id", "message_type_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2016-09-20 14:53:52.354729"], ["message_id", 1], ["message_type_id", 1], ["updated_at", "2016-09-20 14:53:52.354729"]]
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.35ms)
Completed 201 Created in 332ms (Views: 1.2ms | ActiveRecord: 60.4ms)


Started GET "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:02:26 +0300

AbstractController::ActionNotFound (The action 'show' could not be found for Api::V1::EmailsController):
  actionpack (4.1.12) lib/abstract_controller/base.rb:131:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (1.3ms)


Started GET "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:03:25 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

AbstractController::ActionNotFound (The action 'show' could not be found for Api::V1::EmailsController):
  actionpack (4.1.12) lib/abstract_controller/base.rb:131:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (2.4ms)


Started GET "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:04:39 +0300

AbstractController::ActionNotFound (The action 'show' could not be found for Api::V1::EmailsController):
  actionpack (4.1.12) lib/abstract_controller/base.rb:131:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (1.3ms)


Started GET "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:05:25 +0300

AbstractController::ActionNotFound (The action 'show' could not be found for Api::V1::EmailsController):
  actionpack (4.1.12) lib/abstract_controller/base.rb:131:in `process'
  actionview (4.1.12) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.12) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.12) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:73:in `block in call'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.12) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.12) lib/action_dispatch/routing/route_set.rb:692:in `call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `catch'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/cookies.rb:562:in `call'
  activerecord (4.1.12) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.12) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.12) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.12) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.12) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.12) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.12) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.12) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.12) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.12) lib/action_dispatch/middleware/static.rb:84:in `call'
  rack-cors (0.4.0) lib/rack/cors.rb:80:in `call'
  railties (4.1.12) lib/rails/engine.rb:514:in `call'
  railties (4.1.12) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  rack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/nogi/.rvm/rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (2.2ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:07:15 +0300
Processing by Api::V1::EmailsController#inbox as JSON
Completed 500 Internal Server Error in 31308ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `errors' for nil:NilClass):
  app/controllers/api/v1/emails_controller.rb:26:in `inbox'


  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/nogi/.rvm/gems/ruby-2.1.3/gems/actionpack-4.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:08:30 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (37.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (1.0ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (94.3ms)
Completed 200 OK in 230ms (Views: 101.3ms | ActiveRecord: 52.4ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:08:52 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.9ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.53ms)
Completed 200 OK in 17ms (Views: 10.0ms | ActiveRecord: 1.9ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:10:47 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (3.9ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.96ms)
Completed 200 OK in 16ms (Views: 6.1ms | ActiveRecord: 5.1ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:11:34 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.7ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.25ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 1.4ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:15:00 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (1.0ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.81ms)
Completed 200 OK in 14ms (Views: 6.7ms | ActiveRecord: 1.7ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:15:08 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.5ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.55ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.9ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:18:48 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (1.4ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.11ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.9ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:18:58 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.84ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.8ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:19:19 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.5ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.57ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.9ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:20:14 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.6ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.49ms)
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 1.1ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:20:23 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.94ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.7ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:21:49 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.6ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.03ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 1.1ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:21:58 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.51ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.6ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:23:05 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.85ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.9ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:24:56 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.73ms)
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 0.8ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:25:36 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.4ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.82ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.8ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:26:31 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.4ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.55ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 1.6ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:27:59 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.84ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.8ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:28:13 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.5ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.85ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.8ms)


Started POST "/api/v1/emails/inbox" for 127.0.0.1 at 2016-09-20 18:29:02 +0300
Processing by Api::V1::EmailsController#inbox as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
[active_model_serializers]   [1m[36mSQL (0.3ms)[0m  [1mSELECT "messages"."id" AS t0_r0, "messages"."from" AS t0_r1, "messages"."to" AS t0_r2, "messages"."bcc" AS t0_r3, "messages"."cc" AS t0_r4, "messages"."subject" AS t0_r5, "messages"."body" AS t0_r6, "messages"."is_read" AS t0_r7, "messages"."parent_message_id" AS t0_r8, "messages"."created_at" AS t0_r9, "messages"."updated_at" AS t0_r10, "messages"."user_id" AS t0_r11, "message_categories"."id" AS t1_r0, "message_categories"."message_type_id" AS t1_r1, "message_categories"."created_at" AS t1_r2, "message_categories"."updated_at" AS t1_r3, "message_categories"."message_id" AS t1_r4 FROM "messages" LEFT OUTER JOIN "message_categories" ON "message_categories"."message_id" = "messages"."id" WHERE "messages"."user_id" = $1 AND "message_categories"."message_type_id" IN (SELECT "message_types"."id" FROM "message_types"  WHERE "message_types"."type_name" = 'inbox')[0m  [["user_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.09ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.8ms)
